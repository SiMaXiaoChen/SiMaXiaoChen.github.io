<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>天意博文 | 洗去铅华，重拾初心</title>

  
  <meta name="author" content="天意">
  

  
  <meta name="description" content="这是天意同学的网络豪宅">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="天意博文"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="天意博文" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">天意博文</a>
    </h1>
    <p class="site-description">洗去铅华，重拾初心</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/categories">分类</a></li>
      
        <li><a href="/tags">标签</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day9/"><span>Java学习笔记_day9</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day9/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.492Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h2><ul>
<li>final修饰类，该类不能被继承</li>
<li>final修饰方法，该方法不能被重写</li>
<li>fina修饰变量，该变量不能再重新被赋值，变量就变成常量</li>
</ul>
<h4 id="final面试题"><a href="#final面试题" class="headerlink" title="final面试题"></a>final面试题</h4><ul>
<li>final修饰局部变量引用类型时，是地址值不改变，但是地址值的内容可以改变</li>
</ul>
<h3 id="final初始化时间"><a href="#final初始化时间" class="headerlink" title="final初始化时间"></a>final初始化时间</h3><p>被final修饰的变量只能初始化一次，在构造方法之前初始化（非静态的代码块）</p>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>一个事物在不同时刻体现出不同的状态，例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">动物 dongwu = <span class="keyword">new</span> 小猫（）；</div></pre></td></tr></table></figure>
<h3 id="多态的前提"><a href="#多态的前提" class="headerlink" title="多态的前提"></a>多态的前提</h3><ol>
<li>要有继承关系</li>
<li>要有方法重写</li>
<li>要有父类引用指向子类对象</li>
</ol>
<h3 id="多态的访问特点"><a href="#多态的访问特点" class="headerlink" title="多态的访问特点"></a>多态的访问特点</h3><ol>
<li>成员变量：编译看左边，运行看左边；</li>
<li>构造方法：创建对象时，</li>
<li>成员方法：编译看左边，<strong>运行看右边</strong>；</li>
<li>静态方法：编译看左边，运行看左边；</li>
</ol>
<blockquote>
<p>由于成员方法有重写，所以运行看右边；</p>
</blockquote>
<h3 id="多态的好处"><a href="#多态的好处" class="headerlink" title="多态的好处"></a>多态的好处</h3><ol>
<li>提高了代码的维护性（继承保证）；</li>
<li>提高了代码的扩展性（使用父类作为形式参数，那么所以的子类对象都可以作为参数）；</li>
</ol>
<h3 id="多态的弊端"><a href="#多态的弊端" class="headerlink" title="多态的弊端"></a>多态的弊端</h3><p>成员方法运行看右边，但是假如这个方法是子类特有，那么就会编译报错，故不能访问子类特有的方法</p>
<p>为了访问子类的特有方法可以使用强转</p>
<h3 id="对象间的转型问题"><a href="#对象间的转型问题" class="headerlink" title="对象间的转型问题"></a>对象间的转型问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//向上转型</span></div><div class="line">父  fu = <span class="keyword">new</span> 子（）；</div><div class="line"><span class="comment">//向下转型，要求fu必须是能够转换成子类的</span></div><div class="line">子 zi = （子）fu；</div></pre></td></tr></table></figure>
<h3 id="多态中的内存示意图"><a href="#多态中的内存示意图" class="headerlink" title="多态中的内存示意图"></a>多态中的内存示意图</h3><p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fu</span> </span>&#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> code = <span class="number">100</span>;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"show fu"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zi</span> <span class="keyword">extends</span> <span class="title">Fu</span> </span>&#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> code = <span class="number">10000</span>;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"show zi"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"method zi"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DuoTaiDemo3</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//测试</span></div><div class="line">		Fu f = <span class="keyword">new</span> Zi();</div><div class="line">		System.out.println(f.code);		</div><div class="line">		f.show();</div><div class="line">		f.method();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>首先画出方法区</li>
<li>然后画出方法区中的静态区；</li>
<li>再画出方法区中的方法；</li>
<li>main方法入栈，给fu开辟内存空间；</li>
<li>在堆中给zi申请空间，有代表自己的this和代表初始化父类数据的super</li>
<li>先初始化父类的数据，再初始化子类的数据；</li>
<li>对象调用成员变量，那么有fu的属性被调用（即使子类中有同样的成员变量，也调用父类的成员变量）；</li>
<li><p>对象调用成员方法，调用子类的成员方法（运行看右边）；</p>
<p><img src="E:\picture\Java学习笔记_day9_多态.png" alt="Java学习笔记_day9_多态"></p>
</li>
</ol>
<h2 id="抽象类abstract"><a href="#抽象类abstract" class="headerlink" title="抽象类abstract"></a>抽象类abstract</h2><p>###抽象类的特点</p>
<ul>
<li>抽象类不一定有抽象方法，但是有抽象方法的类一定是抽象类</li>
<li>抽象类不能实例化</li>
<li>抽象类有构造方法</li>
<li>抽象类的子类必须是抽象类或者重写抽象方法</li>
<li>抽象类可以利用多态通过子类实现的实例化<br>###抽象类的成员特点</li>
</ul>
<ol>
<li>成员变量：可以是常量也可以是变量；</li>
<li>构造方法：有构造方法，是为了子类访问父类的数据初始化；</li>
<li>成员方法：可以是抽象的也可是非抽象的，抽象是要自类一定要实现；</li>
</ol>
<h2 id="接口interface"><a href="#接口interface" class="headerlink" title="接口interface"></a>接口interface</h2><h3 id="接口的特点"><a href="#接口的特点" class="headerlink" title="接口的特点"></a>接口的特点</h3><ol>
<li>接口用关键字interface：接口是interface   接口名{ }</li>
<li>接口无法实例化</li>
<li>接口的子类（implements）可以是抽象的或者是实现接口的所有抽象方法的具体类；</li>
</ol>
<p>故有三种多态：</p>
<ol>
<li>具体类多态；</li>
<li>抽象类多态；</li>
<li>接口多态；</li>
</ol>
<h3 id="接口的成员特点"><a href="#接口的成员特点" class="headerlink" title="接口的成员特点"></a>接口的成员特点</h3><ol>
<li>成员变量：默认是public static  final，静态的常量；<strong>建议自己手动敲出</strong></li>
<li>构造方法：没有构造方法</li>
<li>成员方法：只能是抽象类，默认修饰符：public  abstract</li>
</ol>
<blockquote>
<p>接口名加上<strong>Impl</strong>标示某个接口的具体实现类</p>
<p>所有的类都默认继承自Object类</p>
</blockquote>
<h3 id="类与类，类与接口，接口与接口的关系"><a href="#类与类，类与接口，接口与接口的关系" class="headerlink" title="类与类，类与接口，接口与接口的关系"></a>类与类，类与接口，接口与接口的关系</h3><ol>
<li>类与类的关系：继承关系，只能是单继承，可以多层继承；</li>
<li>类与接口的关系：实现关系可以实现多个接口；</li>
<li>接口与接口的关系：可以使用extends（继承关系），可以多继承；</li>
</ol>
<blockquote>
<p>java中的类是单继承，但是接口是多继承；</p>
</blockquote>
<h3 id="抽象类和接口之间的关系"><a href="#抽象类和接口之间的关系" class="headerlink" title="抽象类和接口之间的关系"></a>抽象类和接口之间的关系</h3><ul>
<li>成员区别</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">不同</th>
<th style="text-align:center">抽象类</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">成员变量</td>
<td style="text-align:center">可以是变量也可以是常量</td>
<td style="text-align:center">都是public static final</td>
</tr>
<tr>
<td style="text-align:center">构造方法</td>
<td style="text-align:center">有</td>
<td style="text-align:center">无</td>
</tr>
<tr>
<td style="text-align:center">成员方法</td>
<td style="text-align:center">可以是抽象也可以是非抽象</td>
<td style="text-align:center">默认public abstract</td>
</tr>
</tbody>
</table>
<ul>
<li>关系区别</li>
</ul>
<ol>
<li>类与类：继承关系，单继承</li>
<li>类与接口：实现关系，单继承，多实现</li>
<li>接口与接口：继承关系，可以多继承</li>
</ol>
<ul>
<li>设计理念不同</li>
</ul>
<p>抽象类：是该组事物的共性功能</p>
<p>接口：是该组事物的扩展功能</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day9/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day8/"><span>Java学习笔记_day8</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day8/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.413Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Java学习笔记"><a href="#Java学习笔记" class="headerlink" title="Java学习笔记"></a>Java学习笔记</h1><h2 id="javaDoc使用"><a href="#javaDoc使用" class="headerlink" title="javaDoc使用"></a>javaDoc使用</h2><blockquote>
<p>说明：使用/<em>*    </em>/ 可以生成说明文档</p>
</blockquote>
<p><strong>制作过程</strong></p>
<pre><code>A:写一个工具类
B:对这个类加入文档注释        
C:用工具解析文档注释
    javadoc工具
D:格式
    javadoc -d 目录 -author -version ArrayTool.java
</code></pre><p>其中文件头是@author 和@version</p>
<p>方法前是@param和@return</p>
<blockquote>
<p>java.lang包不需要导包，看api时要看版本</p>
<p>math.random()方法返回大于等于0小于1</p>
</blockquote>
<h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><ul>
<li>局部代码块</li>
</ul>
<p>用于限定变量的生命周期</p>
<ul>
<li>构造代码块</li>
</ul>
<p>在类的成员变量的位置，用{}括起来，作用是可以吧多个构造方法的共同代码放到一起，对对象进行初始化，每次新建对象都会执行这个构造代码块。</p>
<ul>
<li>静态代码块</li>
</ul>
<p>在类的成员变量的位置，用{}括起来，用static修饰，作用是对类进行初始化，因为静态随着类的加载而加载。</p>
<blockquote>
<p>三者的执行顺序是：静态代码块—》构造代码块—–》<strong>构造方法</strong></p>
</blockquote>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"Student 静态代码块"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	&#123;</div><div class="line">		System.out.println(<span class="string">"Student 构造代码块"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"Student 构造方法"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentDemo</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"林青霞都60了，我很伤心"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"我是main方法"</span>);</div><div class="line">		</div><div class="line">		Student s1 = <span class="keyword">new</span> Student();</div><div class="line">		Student s2 = <span class="keyword">new</span> Student();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>内存流程：</p>
<ol>
<li>加载StudentDemo类，随着类的加载静态代码块执行；</li>
<li>加载main方法，打印；</li>
<li>加载Student类，随着类的加载静态代码块执行；</li>
<li>在栈中为s1开辟内存空间；</li>
<li>在堆中为new Student（）申请空间，同时执行构造代码块；</li>
<li>默认初始化和显示初始化；</li>
<li>调用构造方法，在打印语句；</li>
<li>把堆内存地址赋值给s1；</li>
</ol>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul>
<li><p>提高了代码的复用性</p>
<p>多个类相同的成员可以放到同一个类中</p>
</li>
<li><p>提高了代码的维护性</p>
<p>如果功能的代码需要修改，修改一处即可</p>
</li>
<li><p>让类与类之间产生了关系，是多态的前提</p>
<p>其实这也是继承的一个弊端：类的耦合性很强</p>
</li>
</ul>
<blockquote>
<p>开发时要低耦合，高内聚</p>
</blockquote>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li>java只是支持单继承不支持多继承</li>
<li>java支持多级继承</li>
<li>只能继承非私有的成员（成员变量和成员方法），其实这也是一个弊端—》打破了封装性；</li>
<li>子类不能继承父类的构造方法，但是可以通过super来访问；</li>
</ol>
<h3 id="this和super的用法"><a href="#this和super的用法" class="headerlink" title="this和super的用法"></a>this和super的用法</h3><ol>
<li>访问成员变量：this.成员变量    super.成员变量</li>
<li>访问构造方法：this（参数）       super（参数）</li>
<li>访问成员方法：this.成员方法      super.成员方法</li>
</ol>
<h3 id="继承中构造方法的关系"><a href="#继承中构造方法的关系" class="headerlink" title="继承中构造方法的关系"></a>继承中构造方法的关系</h3><blockquote>
<p>子类所有的构造方法（无论子类有无参数）默认都会先访问父类的无参构造方法</p>
<p>子类的每一个构造方法默认语句都是：super（）；</p>
</blockquote>
<h3 id="父类中没有无参构造方法的错误"><a href="#父类中没有无参构造方法的错误" class="headerlink" title="父类中没有无参构造方法的错误"></a>父类中没有无参构造方法的错误</h3><p>当类中自己没有写构造方法时，系统会自己添加一个无参构造方法但是当用户自己添加一个带参的构造方法，那么由于子类的所有构造方法都要访问父类的无参构造方法（此时没有），那么编译就会报错。</p>
<p>解决方法：</p>
<ol>
<li>使用super显示调用父类的带参构造方法；</li>
<li>在父类中添加无参构造方法；</li>
<li>还可以用this（）和super（）结合的方式；</li>
</ol>
<blockquote>
<p>在写类时，应该养成良好的编程习惯，主动添加无参构造方法 </p>
</blockquote>
<p><strong>this或者super调用构造方法时必须放在第一条语句，如果没有放在第一条语句就可能对父类的数据进行多次初始化</strong></p>
<h3 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h3><p>####父类和子类的初始化流程</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fu</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"静态代码块Fu"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	&#123;</div><div class="line">		System.out.println(<span class="string">"构造代码块Fu"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Fu</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"构造方法Fu"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zi</span> <span class="keyword">extends</span> <span class="title">Fu</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> &#123;</div><div class="line">		System.out.println(<span class="string">"静态代码块Zi"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	&#123;</div><div class="line">		System.out.println(<span class="string">"构造代码块Zi"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Zi</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"构造方法Zi"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExtendsTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		Zi z = <span class="keyword">new</span> Zi();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>一个类的初始化顺序：静态代码块—》构造代码块—》构造方法；</li>
<li>多个类的初始化顺序：</li>
</ul>
<ol>
<li>首先是子类加载，但是此时有extends父类所以先加载父类，执行父类的静态代码块；</li>
<li>加载子类，执行子类的静态代码块；</li>
<li>看到new开始在堆中初始化数据；</li>
<li>执行子类的构造方法，但是会默认执行父类的构造方法，在父类的构造方法之前会执行构造代码块；</li>
<li>然后执行父类的构造方法；</li>
<li>回到子类，执行子类的构造代码块，再执行子类的构造方法；</li>
</ol>
<p>执行结构：</p>
<p>静态代码块Fu<br>静态代码块Zi<br>构造代码块Fu<br>构造方法Fu<br>构造代码块Zi<br>构造方法Zi</p>
<h4 id="看程序写结果"><a href="#看程序写结果" class="headerlink" title="看程序写结果"></a>看程序写结果</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> </span>&#123;</div><div class="line">	Y b = <span class="keyword">new</span> Y();</div><div class="line">	X() &#123;</div><div class="line">		System.out.print(<span class="string">"X"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span> </span>&#123;</div><div class="line">	Y() &#123;</div><div class="line">		System.out.print(<span class="string">"Y"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Z</span> <span class="keyword">extends</span> <span class="title">X</span> </span>&#123;</div><div class="line">	Y y = <span class="keyword">new</span> Y();</div><div class="line">	Z() &#123;</div><div class="line">		<span class="comment">//super</span></div><div class="line">		System.out.print(<span class="string">"Z"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">new</span> Z(); </div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一个类的初始化会首先初始化静态代码块，然后初始化成员变量（成员变量有基本变量和引用变量），成员变量的初始化会首先进行默认初始化，然后是显示初始化，最后是构造方法初始化；</p>
<p>分析类的初始化，应该首先从main方法开始：</p>
<ol>
<li>初始化z，看到z有extends所以应该先初始化x；</li>
<li>x初始化成员变量，初始化y；</li>
<li>y初始化成员变量打印y；</li>
<li>回到x，打印x；</li>
<li>回到z，看到new y（）；</li>
<li>初始化y，打印语句；</li>
<li>执行构造方法，打印z；</li>
</ol>
<p>最后结果是：yxyz</p>
<h3 id="重写Override"><a href="#重写Override" class="headerlink" title="重写Override"></a>重写Override</h3><p>子类中出现和父类一模一样的方法（包扩方法声明和方法参数）</p>
<blockquote>
<p>方法重载时在本类中出现的方法名一样，参数类列表不同的方法，与返回值无关；</p>
<p>Override：方法重写<br>Overload：方法重载</p>
</blockquote>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li>父类私有的方法不能重写</li>
<li>重写父类方法时访问权限不能更低，最好是一致；</li>
<li>父类静态方法，子类必须通过静态实现重写</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day8/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day6/"><span>Java学习笔记_day6</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day6/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.351Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Java学习笔记"><a href="#Java学习笔记" class="headerlink" title="Java学习笔记"></a>Java学习笔记</h1><h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="表示方法"><a href="#表示方法" class="headerlink" title="表示方法"></a>表示方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">A:数据类型[][] 数组名 = <span class="keyword">new</span> 数据类型[m][n];</div><div class="line">B:数据类型[][] 数组名 = <span class="keyword">new</span> 数据类型[m][];</div><div class="line">C:数据类型[][] 数组名 = <span class="keyword">new</span> 数据类型[][]&#123;&#123;...&#125;,&#123;...&#125;,&#123;...&#125;&#125;;</div><div class="line">D:数据类型[][] 数组名 = &#123;&#123;...&#125;,&#123;...&#125;,&#123;...&#125;&#125;;</div></pre></td></tr></table></figure>
<h3 id="二维数组的内存示意图"><a href="#二维数组的内存示意图" class="headerlink" title="二维数组的内存示意图"></a>二维数组的内存示意图</h3><p><img src="E:\picture\堆.png" alt="堆"></p>
<blockquote>
<p>在这里首先先初始化最外层的一位数组（引用类型，初始值是null），然后内层数组开始初始化（默认是0），并且把内层的地址值给外层的数组，外层再把总地址值交给栈。</p>
</blockquote>
<p><strong>注意</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] array = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">8</span>&#125;;</div></pre></td></tr></table></figure>
<p>这里的数组在内存中是在堆中，因为他省略了new。</p>
<h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><ul>
<li>求出下面打印的语句</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArgsDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">int</span> a = <span class="number">10</span>;</div><div class="line">		<span class="keyword">int</span> b = <span class="number">20</span>;</div><div class="line">		System.out.println(<span class="string">"a:"</span>+a+<span class="string">",b:"</span>+b); <span class="comment">//a:10,b:20</span></div><div class="line">		change(a,b);</div><div class="line">		System.out.println(<span class="string">"a:"</span>+a+<span class="string">",b:"</span>+b); <span class="comment">//???	a:10,b:20</span></div><div class="line"></div><div class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;; </div><div class="line">		change(arr);</div><div class="line">		System.out.println(arr[<span class="number">1</span>]); <span class="comment">//???	4</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span> </span>&#123; <span class="comment">//a=10,b=20</span></div><div class="line">		System.out.println(<span class="string">"a:"</span>+a+<span class="string">",b:"</span>+b); <span class="comment">//a:10,b:20</span></div><div class="line">		a = b;	<span class="comment">//a=20</span></div><div class="line">		b = a + b; <span class="comment">//b=40</span></div><div class="line">		System.out.println(<span class="string">"a:"</span>+a+<span class="string">",b:"</span>+b); <span class="comment">//a:20,b:40</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123; <span class="comment">//arr=&#123;1,2,3,4,5&#125;;</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;arr.length; x++) &#123;</div><div class="line">			<span class="keyword">if</span>(arr[x]%<span class="number">2</span>==<span class="number">0</span>) &#123;</div><div class="line">				arr[x]*=<span class="number">2</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//arr=&#123;1,4,3,8,5&#125;;</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>写出各处打印的值是多少？？？？</p>
<p><strong>参考答案</strong></p>
<blockquote>
<p><strong>基本数据类型由实际参数传递给形参时传递的是值，引用数据类型传递的是数据的引用</strong></p>
</blockquote>
<p>我们可以画出它的内存图：</p>
<p> <img src="E:\picture\ice_screenshot_20160726-163627.png" alt="ice_screenshot_20160726-163627"></p>
<p>每个在栈内的方法有他的数据，区别只是栈内的数据的来源，一个是数值，一个是引用的地址。</p>
<blockquote>
<p>基本类型：形式参数的改变对实际参数没有影响。    </p>
<p>引用类型：形式参数的改变直接影响实际参数。</p>
</blockquote>
<ul>
<li>某个公司采用公用电话传递数据信息，数据是小于8位的整数，为了确保安全，传递过程中需要加密，加密规则如下：首先将数据倒序，然后将每位数字都加上5，再用和除以10的余数代替该数字，最后将第一位和最后一位数字交换。 请任意给定一个小于8位的整数，然后，把加密后的结果在控制台打印出来。 </li>
</ul>
<blockquote>
<p>分析可知：</p>
<p>首先确定位数，然后把数字转换成数组，在进行操作</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义一个数据</span></div><div class="line">	<span class="keyword">int</span> number = <span class="number">123456</span>;</div><div class="line">	</div><div class="line">	<span class="comment">//定义一个数组</span></div><div class="line">	<span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>];</div><div class="line">	</div><div class="line">	<span class="comment">//把数据中每一位上的数据获取到后存储到数组中</span></div><div class="line">	<span class="comment">/*</span></div><div class="line">	int index = 0;</div><div class="line">	arr[index] = number%10; //arr[0]=6;</div><div class="line">	index++;</div><div class="line">	arr[index] = number/10%10; //arr[1]=5;</div><div class="line">	index++;</div><div class="line">	arr[index] = mumber/10/10%10; //arr[2]=4;</div><div class="line">	*/</div><div class="line">	</div><div class="line">	<span class="comment">//通过观察这个代码，我们发现应该是可以通过循环改进的</span></div><div class="line">	<span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(number &gt; <span class="number">0</span>) &#123; <span class="comment">//number=123456,number=12345,number=1234,number=123,number=12,number=1,number=0</span></div><div class="line">		arr[index] = number%<span class="number">10</span>; <span class="comment">//arr[0]=6,arr[1]=5,arr[2]=4,arr[3]=3,arr[4]=2,arr[5]=1</span></div><div class="line">		index++;<span class="comment">//index=1,index=2,index=3,index=4,index=5,index=6</span></div><div class="line">		number/=<span class="number">10</span>;<span class="comment">//number=12345,number=1234,number=123,number=12,number=1,number=0</span></div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//然后将每位数字都加上5，再用和除以10的余数代替该数字</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;index; x++) &#123;</div><div class="line">		arr[x] += <span class="number">5</span>;</div><div class="line">		arr[x] %= <span class="number">10</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//最后将第一位和最后一位数字交换</span></div><div class="line">	<span class="keyword">int</span> temp = arr[<span class="number">0</span>];</div><div class="line">	arr[<span class="number">0</span>] = arr[index-<span class="number">1</span>];</div><div class="line">	arr[index-<span class="number">1</span>] = temp;</div><div class="line">	</div><div class="line">	<span class="comment">//输出数据</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;index; x++) &#123;</div><div class="line">		System.out.print(arr[x]);</div><div class="line">	&#125;</div><div class="line">	System.out.println();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里的重点是把int型的整数每个数字提取出来：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> num = <span class="number">12345679</span>;</div><div class="line"><span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">9</span>];</div><div class="line"><span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</div><div class="line">    array[index] = num % <span class="number">10</span>;</div><div class="line">    num /= <span class="number">10</span>;</div><div class="line">    index++;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>改进后的代码是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">//创建键盘录入对象</span></div><div class="line">	Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">	</div><div class="line">	<span class="comment">//请输入一个数据</span></div><div class="line">	System.out.println(<span class="string">"请输入一个数据(小于8位)："</span>);</div><div class="line">	<span class="keyword">int</span> number = sc.nextInt();</div><div class="line">	</div><div class="line">	<span class="comment">//写功能实现把number进行加密</span></div><div class="line">	<span class="comment">//调用</span></div><div class="line">	String result = jiaMi(number);</div><div class="line">	System.out.println(<span class="string">"加密后的结果是："</span>+result);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">	需求：写一个功能，把数据number实现加密。</div><div class="line">	两个明确：</div><div class="line">		返回值类型：String 做一个字符串的拼接。</div><div class="line">		参数列表：int number</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">jiaMi</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义数组</span></div><div class="line">	<span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>];</div><div class="line">	</div><div class="line">	<span class="comment">//定义索引</span></div><div class="line">	<span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">	</div><div class="line">	<span class="comment">//把number中的数据想办法放到数组中</span></div><div class="line">	<span class="keyword">while</span>(number &gt; <span class="number">0</span>) &#123;</div><div class="line">		arr[index] = number%<span class="number">10</span>;</div><div class="line">		index++;</div><div class="line">		number /= <span class="number">10</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//把每个数据加5，然后对10取得余数</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;index; x++) &#123;</div><div class="line">		arr[x] += <span class="number">5</span>;</div><div class="line">		arr[x] %= <span class="number">10</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//把第一位和最后一位交换</span></div><div class="line">	<span class="keyword">int</span> temp = arr[<span class="number">0</span>];</div><div class="line">	arr[<span class="number">0</span>] = arr[index-<span class="number">1</span>];</div><div class="line">	arr[index-<span class="number">1</span>] = temp;</div><div class="line">	</div><div class="line">	<span class="comment">//把数组的元素拼接成一个字符串返回</span></div><div class="line">	<span class="comment">//定义一个空内容字符串</span></div><div class="line">	String s = <span class="string">""</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;index; x++) &#123;</div><div class="line">		s += arr[x];</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> s;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>善于运用while，注意while的条件</p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><h3 id="面向对象特称"><a href="#面向对象特称" class="headerlink" title="面向对象特称"></a>面向对象特称</h3><ul>
<li>封装(encapsulation)</li>
<li>继承(inheritance)</li>
<li>多态(polymorphism)</li>
</ul>
<h3 id="类和对象的关系"><a href="#类和对象的关系" class="headerlink" title="类和对象的关系"></a>类和对象的关系</h3><blockquote>
<p>类是一组相关的属相（成员属性）和行为（成员行为）的集合，是一个抽象概念，对象是该类的具体表现形式，具体存在的个体。</p>
</blockquote>
<h3 id="对象的内存图"><a href="#对象的内存图" class="headerlink" title="对象的内存图"></a>对象的内存图</h3><ul>
<li>一个对象的内存图</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</div><div class="line">	<span class="comment">//品牌</span></div><div class="line">	String brand;</div><div class="line">	<span class="comment">//价格</span></div><div class="line">	<span class="keyword">int</span> price;</div><div class="line">	<span class="comment">//颜色</span></div><div class="line">	String color;</div><div class="line">	</div><div class="line">	<span class="comment">//打电话的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"给"</span>+name+<span class="string">"打电话"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//发短信的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"群发短信"</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//玩游戏的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">playGame</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"玩游戏"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PhoneDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//创建手机对象</span></div><div class="line">		<span class="comment">//类名 对象名 = new 类名();</span></div><div class="line">		Phone p = <span class="keyword">new</span> Phone();</div><div class="line">		</div><div class="line">		<span class="comment">//直接输出成员变量值</span></div><div class="line">		System.out.println(p.brand+<span class="string">"---"</span>+p.price+<span class="string">"---"</span>+p.color);</div><div class="line">		</div><div class="line">		<span class="comment">//给成员变量赋值</span></div><div class="line">		p.brand = <span class="string">"诺基亚"</span>;</div><div class="line">		p.price = <span class="number">100</span>;</div><div class="line">		p.color = <span class="string">"灰色"</span>;</div><div class="line">		<span class="comment">//再次输出</span></div><div class="line">		System.out.println(p.brand+<span class="string">"---"</span>+p.price+<span class="string">"---"</span>+p.color);</div><div class="line">		</div><div class="line">		<span class="comment">//调用方法</span></div><div class="line">		p.call(<span class="string">"林青霞"</span>);</div><div class="line">		p.sendMessage();</div><div class="line">		p.playGame();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上图创建两个类，而且都用含有方法，所以应该在方法区开辟空间，开始执行main方法，遇到类名和对象名开始声明变量，所以main方法入栈，在main方法中开辟p对象的空间，而且看到new，所以在堆中开辟new Phone的空间，此时的初始值是brand是null，price是0，color是null，打印结果；</p>
<p>然后由栈中的对象p控制phone的索引值，给堆中的元素值，此时堆中的元素有值，打印输出结果；</p>
<p>p对象调用方法，所以方法区中的方法入栈，执行操作，当方法完成之后，销毁方法，释放内存；</p>
<p>最后mian方法被销毁，内存释放。</p>
<p>  <img src="E:\picture\ice_screenshot_20160726-163742.png" alt="ice_screenshot_20160726-163742"></p>
<ul>
<li>三个对象的内存示意图</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//修改上面的代码</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PhoneDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//创建手机对象</span></div><div class="line">		<span class="comment">//类名 对象名 = new 类名();</span></div><div class="line">		Phone p = <span class="keyword">new</span> Phone();</div><div class="line">		</div><div class="line">		<span class="comment">//直接输出成员变量值</span></div><div class="line">		System.out.println(p.brand+<span class="string">"---"</span>+p.price+<span class="string">"---"</span>+p.color);</div><div class="line">		</div><div class="line">		<span class="comment">//给成员变量赋值</span></div><div class="line">		p.brand = <span class="string">"诺基亚"</span>;</div><div class="line">		p.price = <span class="number">100</span>;</div><div class="line">		p.color = <span class="string">"灰色"</span>;</div><div class="line">		<span class="comment">//再次输出</span></div><div class="line">		System.out.println(p.brand+<span class="string">"---"</span>+p.price+<span class="string">"---"</span>+p.color);</div><div class="line">		</div><div class="line">		<span class="comment">//调用方法</span></div><div class="line">		p.call(<span class="string">"林青霞"</span>);</div><div class="line">		p.sendMessage();</div><div class="line">		p.playGame();</div><div class="line">		</div><div class="line">		Phone p2 = p；</div><div class="line">		p2.brand = <span class="string">"iphone"</span>;</div><div class="line">		p2.price = <span class="number">5000</span>;</div><div class="line">		p2.color = <span class="string">"green"</span>;</div><div class="line">		System.out.println(p.brand+<span class="string">"---"</span>+p.price+<span class="string">"---"</span>+p.color);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>注意</strong></p>
<p>只有在上述代码中Phone p2 = p；这样才是吧p的引用传递给p2，加入是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">p2.brand = p.brand;</div></pre></td></tr></table></figure>
<p>这样只是传递一个值，而没有把引用传递给p2，当p2操作时，p对象对应堆内的数据值不变</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day6/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day5/"><span>Java学习笔记_day5</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day5/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.320Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="Java学习笔记"><a href="#Java学习笔记" class="headerlink" title="Java学习笔记"></a>Java学习笔记</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h3><ul>
<li>数据类型[]   数组名</li>
<li>数据类型     数组名[ ]</li>
</ul>
<h3 id="数组的初始化"><a href="#数组的初始化" class="headerlink" title="数组的初始化"></a>数组的初始化</h3><ul>
<li>动态初始化:只是指定长度由系统给出初始化值</li>
</ul>
<blockquote>
<p>数据类型【】 数组名 =  new    数据类型【数组长度】；</p>
</blockquote>
<ul>
<li>静态初始化：只是给定初始化值，长度由系统指定</li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;	<span class="comment">//正常的初始化方式</span></div><div class="line">&gt; <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;	<span class="comment">//简化的初始化方式</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>数组的生命有两种，初始化有两种，共有四种</p>
<h2 id="java中的内存分配"><a href="#java中的内存分配" class="headerlink" title="java中的内存分配"></a>java中的内存分配</h2><blockquote>
<p>java为了提高程序的运行效率，就对数据进行不同的空间分配，具体有5个内存空间。</p>
</blockquote>
<ul>
<li>栈：存放的是局部变量</li>
<li>堆：存放的是所有new出来的变量</li>
<li>方法区</li>
<li>本地寄存器：系统用</li>
<li>寄存器：CPU使用</li>
</ul>
<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><blockquote>
<p>局部变量：在方法或者方法声明中的变量都称为局部变量</p>
</blockquote>
<p>栈中的数据用完就释放，而且栈内的数据会应用一个堆内存地址（如果有的话），</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"> 	<span class="keyword">int</span>[] arraay = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</div><div class="line">	<span class="keyword">int</span> code = <span class="number">100</span>;</div><div class="line">	System.out.print(array);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在上面中有如下的内存图: </p>
<p> <img src="E:\picture\ice_screenshot_20160726-163022.png" alt="ice_screenshot_20160726-163022"></p>
<p>所以在打印时会显示array的内存地址，也就是一个16进制的地址。</p>
<h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h3><ul>
<li><p>每一个new出的数据都有一个内存地址</p>
</li>
<li><p>每一个变量都由默认变量（假设数组由动态初始化）</p>
<p>byte，short，int，long都是0</p>
<p>float，double是0.0</p>
<p>char是   \u0000   代表了一个空格</p>
<p>boolean是false</p>
<p>所有的引用类型都是 null</p>
</li>
<li><p>所有的数据使用完成之后就变成了垃圾，但是没有立即回收，而是在垃圾回收器空闲的时候在回收，和栈不同，栈在使用完成之后会立即回收。</p>
</li>
</ul>
<h3 id="栈和堆的联系"><a href="#栈和堆的联系" class="headerlink" title="栈和堆的联系"></a>栈和堆的联系</h3><pre><code>定义第一个数组,定义完毕后，给数组元素赋值。赋值完毕后，在输出数组名称和元素。
定义第二个数组,定义完毕后，给数组元素赋值。赋值完毕后，在输出数组名称和元素。
定义第三个数组,把第一个数组的地址值赋值给它。(注意类型一致)，通过第三个数组的名称去把元素重复赋值。
最后，再次输出第一个数组数组名称和元素。
</code></pre><p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//定义第一个数组</span></div><div class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</div><div class="line">arr[<span class="number">0</span>] = <span class="number">88</span>;</div><div class="line">arr[<span class="number">1</span>] = <span class="number">33</span>;</div><div class="line">arr[<span class="number">2</span>] = <span class="number">66</span>;</div><div class="line">System.out.println(arr);</div><div class="line">System.out.println(arr[<span class="number">0</span>]);</div><div class="line">System.out.println(arr[<span class="number">1</span>]);</div><div class="line">System.out.println(arr[<span class="number">2</span>]);</div><div class="line">System.out.println(<span class="string">"----"</span>);</div><div class="line"></div><div class="line"><span class="comment">//定义第二个数组</span></div><div class="line"><span class="keyword">int</span>[] arr2 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</div><div class="line">arr2[<span class="number">0</span>] = <span class="number">22</span>;</div><div class="line">arr2[<span class="number">1</span>] = <span class="number">44</span>;</div><div class="line">arr2[<span class="number">2</span>] = <span class="number">55</span>;</div><div class="line">System.out.println(arr2);</div><div class="line">System.out.println(arr2[<span class="number">0</span>]);</div><div class="line">System.out.println(arr2[<span class="number">1</span>]);</div><div class="line">System.out.println(arr2[<span class="number">2</span>]);</div><div class="line">System.out.println(<span class="string">"----"</span>);</div><div class="line"></div><div class="line"><span class="comment">//定义第三个数组</span></div><div class="line"><span class="keyword">int</span>[] arr3 =  arr;</div><div class="line">arr3[<span class="number">0</span>] = <span class="number">100</span>;</div><div class="line">arr3[<span class="number">1</span>] = <span class="number">200</span>;</div><div class="line">System.out.println(arr);</div><div class="line">System.out.println(arr[<span class="number">0</span>]);</div><div class="line">System.out.println(arr[<span class="number">1</span>]);</div><div class="line">System.out.println(arr[<span class="number">2</span>]);</div></pre></td></tr></table></figure>
<p>  <img src="D:\picture\ice_screenshot_20160726-163318.png" alt="ice_screenshot_20160726-163318"></p>
<p><strong>栈中的两个引用指向一个内存地址，无论他们谁的操作，都会对堆中的数据进行更改</strong></p>
<h2 id="数组操作的两个常见错误"><a href="#数组操作的两个常见错误" class="headerlink" title="数组操作的两个常见错误"></a>数组操作的两个常见错误</h2><ul>
<li><p>ArrayIndexOutOfBoundsException</p>
<p>访问到了数组中的不存在的索引时发生</p>
<p>数组索引越界</p>
</li>
<li><p>NullPointerException</p>
<p>空指针异常</p>
</li>
</ul>
<p>##数组常见的操作</p>
<h3 id="把数组逆序"><a href="#把数组逆序" class="headerlink" title="把数组逆序"></a>把数组逆序</h3><p><strong>方法一</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length/<span class="number">2</span> ; i++)&#123;</div><div class="line">	<span class="keyword">int</span> temp = arr[i];</div><div class="line">	arr[i] = arr[arr.length-<span class="number">1</span>-i];</div><div class="line">	arr[arr.length-<span class="number">1</span>-i] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>本质就是利用两个数之间的互换算法，利用一个中间数据缓存</p>
</blockquote>
<p><strong>方法二</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> start = <span class="number">0</span>,end = arr.length-<span class="number">1</span> ; start &lt;= end ; start++,end-- )&#123;</div><div class="line">	<span class="keyword">int</span> temp = arr[start];</div><div class="line">	arr[start] = arr[end];</div><div class="line">	arr[end] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>和上一个只是两者的计算步骤不同，但是还是利用两个数的互换算法</p>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day5/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day4/"><span>Java学习笔记_day4</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day4/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.210Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="选择结构"><a href="#选择结构" class="headerlink" title="选择结构"></a>选择结构</h2><h3 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a>语法结构</h3><p>switch语句格式：</p>
<p>switch(表达式) {</p>
<pre><code>case 值1：

 语句体1;

 break;

 case 值2：

 语句体2;

 break;

 …

 default：  

 语句体n+1;

 break;
</code></pre><p>   }</p>
<h3 id="语法说明"><a href="#语法说明" class="headerlink" title="语法说明"></a>语法说明</h3><p>•    switch表示这是switch语句</p>
<p>•    表达式的取值：byte,short,int,char</p>
<p>•    JDK5以后可以是枚举</p>
<p>•    JDK7以后可以是String</p>
<p>•    case后面跟的是要和表达式进行比较的值</p>
<p>•    语句体部分可以是一条或多条语句</p>
<p>•    break表示中断，结束的意思，可以结束switch语句</p>
<p>•    default语句表示所有情况都不匹配的时候，就执行该处的内容，和if语句的else相似。</p>
<p>注意：</p>
<pre><code>A:遇到左大括号缩进一个tab的位置。

B:关联不是很大的语句间空行
</code></pre><h3 id="switch语句的注意事项"><a href="#switch语句的注意事项" class="headerlink" title="switch语句的注意事项"></a>switch语句的注意事项</h3><pre><code>A:case后面只能是常量，不能是变量，而且，多个case后面的值不能出现相同的

B:default可以省略吗?

    可以省略，但是不建议，因为它的作用是对不正确的情况给出提示。

    特殊情况：

       case就可以把值固定。

       A,B,C,D

C:break可以省略吗?

    可以省略，但是结果可能不是我们想要的。

    会出现一个现象：case穿透。

    最终我们建议不要省略

D:default一定要在最后吗?

    不是，可以在任意位置。但是建议在最后。

E:switch语句的结束条件

    a:遇到break就结束了

    b:执行到末尾就结束了
</code></pre><h3 id="switch练习题"><a href="#switch练习题" class="headerlink" title="switch练习题"></a>switch练习题</h3><ol>
<li>判断b的值</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">int a = 2;</div><div class="line">		int b = 3;</div><div class="line">		switch(a)&#123;</div><div class="line">			default:</div><div class="line">				b++;</div><div class="line">			case 3:</div><div class="line">				b++;</div><div class="line">			case 4:</div><div class="line">				b++;</div><div class="line">		&#125;</div><div class="line">		System.out.println(&quot;b=&quot;+b);</div></pre></td></tr></table></figure>
<p>注意：</p>
<p>这样写太麻烦了，我们使用一个我们不想使用的东西：case穿透</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">switch(month) &#123;</div><div class="line">	case 1:</div><div class="line">	case 2:</div><div class="line">	case 12:</div><div class="line">		System.out.println(&quot;冬季&quot;);</div><div class="line">		break;</div><div class="line">	case 3:</div><div class="line">	case 4:</div><div class="line">	case 5:</div><div class="line">		System.out.println(&quot;春季&quot;);</div><div class="line">		break;</div><div class="line">	case 6:</div><div class="line">	case 7:</div><div class="line">	case 8:</div><div class="line">		System.out.println(&quot;夏季&quot;);</div><div class="line">		break;</div><div class="line">	case 9:</div><div class="line">	case 10:</div><div class="line">	case 11:</div><div class="line">		System.out.println(&quot;秋季&quot;);</div><div class="line">		break;</div><div class="line">	default:</div><div class="line">		System.out.println(&quot;你输入的月份有误&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>for循环,while循环,do…while循环</p>
<h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><ol>
<li>求1-100所有偶数之和：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//方式1</div><div class="line">int sum2 = 0;</div><div class="line"></div><div class="line">for(int x=1; x&lt;=100; x++) &#123;</div><div class="line">	if(x%2 == 0) &#123;</div><div class="line">		sum2 += x;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">System.out.println(&quot;1-100偶数之和是：&quot;+sum2);</div><div class="line">System.out.println(&quot;------------------&quot;);</div><div class="line"></div><div class="line">//方式2</div><div class="line">int sum3 = 0;</div><div class="line"></div><div class="line">for(int x=0; x&lt;=100; x+=2) &#123;</div><div class="line">		sum3 += x;</div><div class="line">&#125;</div><div class="line"></div><div class="line">System.out.println(&quot;1-100偶数之和是：&quot;+sum3);</div><div class="line">System.out.println(&quot;------------------&quot;);</div></pre></td></tr></table></figure>
<ol>
<li>求出所有的水仙花数（3位）</li>
</ol>
<p>所谓的水仙花数是指一个三位数，其各位数字的立方和等于该数本身。</p>
<pre><code>举例：153就是一个水仙花数。

153= 1*1*1 + 5*5*5 + 3*3*3 = 1 + 125 + 27 = 153
</code></pre><p>参考：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">//三位数其实是告诉了我们范围。</div><div class="line"></div><div class="line">       for(intx=100; x&lt;1000; x++) &#123;</div><div class="line"></div><div class="line">           intge = x%10;</div><div class="line"></div><div class="line">           intshi = x/10%10;</div><div class="line"></div><div class="line">           intbai = x/10/10%10;</div><div class="line"></div><div class="line">           </div><div class="line"></div><div class="line">           //让gegege+shishishi+baibaibai和该数据比较</div><div class="line"></div><div class="line">           if(x== (gegege+shishishi+baibaibai)) &#123;</div><div class="line"></div><div class="line">              //如果相同，就把该数据在控制台输出。</div><div class="line"></div><div class="line">              System.out.println(x);</div><div class="line"></div><div class="line">           &#125;</div><div class="line"></div><div class="line">       &#125;</div><div class="line"></div><div class="line">其实这种也可以只不过算法的空间复杂度太高：</div><div class="line"></div><div class="line">for (int i = 1; i&lt;= 9; i++) &#123;</div><div class="line"></div><div class="line">           for(int j = 0; j &lt;= 9; j++) &#123;</div><div class="line"></div><div class="line">              for(int j2 = 0; j2 &lt; 9; j2++) &#123;</div><div class="line"></div><div class="line">                  intcondition = 100i + 10j + j2 ;</div><div class="line"></div><div class="line">                  intcon = iii + jjj + j2j2j2;</div><div class="line"></div><div class="line">                  if(condition==con) &#123;</div><div class="line"></div><div class="line">                     System.out.println(condition);</div><div class="line">                  &#125;                </div><div class="line">              &#125;             </div><div class="line">           &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<h3 id="while循环和for循环的区别"><a href="#while循环和for循环的区别" class="headerlink" title="while循环和for循环的区别"></a>while循环和for循环的区别</h3><p>使用区别：如果你想在循环结束后，继续使用控制条件的那个变量，用while循环，否则用for循环。不知道用for循环。因为变量及早的从内存中消失，可以提高内存的使用效率。</p>
<p>其实还有一种场景的理解:</p>
<p>如果是一个范围的，用for循环非常明确。</p>
<p>如果是不明确要做多少次，用while循环较为合适。</p>
<h4 id="While的练习题"><a href="#While的练习题" class="headerlink" title="While的练习题"></a>While的练习题</h4><p>我国最高山峰是珠穆朗玛峰：8848m，我现在有一张足够大的纸张，厚度为：0.01m。</p>
<pre><code>请问，我折叠多少次，就可以保证厚度不低于珠穆朗玛峰的高度?
</code></pre><p>参考：</p>
<p>//定义一个统计变量，默认值是0</p>
<pre><code>intcount = 0;       

//最高山峰是珠穆朗玛峰：8848m这是最终的厚度

//我现在有一张足够大的纸张，厚度为：0.01m这是初始厚度

//为了简单，我把0.01变成1，同理8848就变成了884800

intend = 884800;

intstart = 1;       

while(start&lt;end){

    //只要每次变化的厚度没有超过珠穆朗玛峰的高度，就折叠，统计变量++

    count++;           

    //折叠一次有什么变化呢?就是厚度是以前的2倍。

    start*= 2;           

    System.out.println(&quot;第&quot;+count+&quot;次厚度是&quot;+start);

}       

//输出统计变量。

System.out.println(&quot;要叠&quot;+count+&quot;次&quot;);
</code></pre><h3 id="循环语句的区别"><a href="#循环语句的区别" class="headerlink" title="循环语句的区别"></a>循环语句的区别</h3><pre><code>do...while循环至少执行一次循环体。

而for,while循环必须先判断条件是否成立，然后决定是否执行循环体语句。
</code></pre><p>优先考虑for，其次考虑while，最后考虑do…while</p>
<h3 id="注意死循环"><a href="#注意死循环" class="headerlink" title="注意死循环"></a>注意死循环</h3><p>一定要注意控制条件语句控制的那个变量的问题，不要弄丢了，否则就容易死循环</p>
<p>while(true){…}</p>
<p>转义字符：</p>
<p>\t tab建     \r   回车键    \n     换行建    后两者意义相同</p>
<h2 id="跳转控制语句"><a href="#跳转控制语句" class="headerlink" title="跳转控制语句"></a>跳转控制语句</h2><p>l  break 中断</p>
<p>l  continue 继续</p>
<p>l  return 返回 </p>
<h4 id="break中断"><a href="#break中断" class="headerlink" title="break中断"></a>break中断</h4><ol>
<li>使用场景</li>
</ol>
<p>A:switch语句中</p>
<p>B:循环语句中。</p>
<p>循环语句中加入了if判断的情况)</p>
<p>注意：离开上面的两个场景，无意义。</p>
<ol>
<li><p>使用方法</p>
<p>  A:跳出单层循环</p>
<p>  B:跳出多层循环—–à表示跳出至某层循环</p>
<pre><code>要想实现这个效果，就必须知道一个东西。带标签的语句。

格式：

   标签名: 语句
</code></pre></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">wc:for(int x=0; x&lt;3; x++) &#123;</div><div class="line">	nc:for(int y=0; y&lt;4; y++) &#123;</div><div class="line">		if(y == 2) &#123;</div><div class="line">			//break nc;</div><div class="line">			break wc;</div><div class="line">		&#125;</div><div class="line">		System.out.print(&quot;*&quot;);</div><div class="line">	&#125;</div><div class="line">	System.out.println();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Break和continue对比"><a href="#Break和continue对比" class="headerlink" title="Break和continue对比"></a>Break和continue对比</h4><p>•    break  退出当前循环</p>
<p>•    continue  退出本次循环</p>
<h4 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h4><pre><code>练习题：
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for(int x=1; x&lt;=10; x++) &#123;</div><div class="line">	if(x%3==0) &#123;</div><div class="line">		//在此处填写代码</div><div class="line">	&#125;</div><div class="line">	System.out.println(“Java基础班”);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>要求：</p>
<pre><code>我想在控制台输出2次:“Java基础班“

我想在控制台输出7次:“Java基础班“

我想在控制台输出13次:“Java基础班“ 
</code></pre><p>参考答案：</p>
<pre><code>我想在控制台输出2次:“Java基础班“

    break;

我想在控制台输出7次:“Java基础班“

    continue;

我想在控制台输出13次:“Java基础班“ 

    System.out.println(“Java基础班
</code></pre>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day4/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day3/"><span>Java学习笔记_day3</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day3/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:38.101Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="运算符operator"><a href="#运算符operator" class="headerlink" title="运算符operator"></a>运算符operator</h2><p>就是对常量和变量进行操作的符号。</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>算术运算符，赋值运算符，比较运算符，逻辑运算符，位运算符，三目运算符</p>
<p>注：定义变量应该int x = 3；应该说把3赋值给int类型的x；</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>//定义变量</p>
<p>int x = 3;  //把3赋值给int类型的变量x</p>
<p>int y = 4;</p>
<p>System.out.println(x/y); //整数相除只能得到整数—–》结果是0</p>
<p>//我就想得到小数，该肿么办呢?</p>
<pre><code>//只需要把操作的数据中任意的一个数据变为浮点数

System.out.println(x*1.0/y);----------à结果是3
</code></pre><p>A:整数相除只能得到整数。如果想得到小数，必须把数据变化为浮点数类型</p>
<pre><code>B:/获取的是除法操作的商，%获取的是除法操作的余数
</code></pre><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p><img src="E:\picture\snipaste_20170313_204424.png" alt="snipaste_20170313_204424"></p>
<p>++,–运算符的使用：</p>
<pre><code>单独使用：

   放在操作数的前面和后面效果一样。(这种用法是我们比较常见的)

   //x++;

   //y--;

参与运算使用：

   放在操作数的前面，先自增或者自减，然后再参与运算。

   放在操作数的后面，先参与运算，再自增或者自减。

   int a = 3;

   //int c = a++;--------à结果是3
</code></pre><h4 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h4><p>第一题：</p>
<pre><code>int a = 10;

int b = 10;

int c = 10;



a = b++;

c = --a;

b = ++a;

a = c--;

请分别计算出a,b,c的值



第二题：

int x = 4;

int y = (x++)+(++x)+(x*10);

请分别计算出x,y的值      
</code></pre><p>参考答案：</p>
<ol>
<li><p>a=9,b=10,c=8</p>
</li>
<li><p>70</p>
</li>
</ol>
<h4 id="的用法："><a href="#的用法：" class="headerlink" title="+的用法："></a>+的用法：</h4><pre><code>A:加法

B:正号

C:字符串连接符
</code></pre><h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>基本的赋值运算符：=</p>
<p>把=右边的数据赋值给左边。</p>
<p>扩展的赋值运算符：+=,-=,*=,/=,%=</p>
<pre><code>+=把左边和右边做加法，然后赋值给左边
</code></pre><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p>short s=1, s = s+1; short s=1, s+=1;上面两个代码有没有问题，如果有，那里有问题</p>
<p>第一个有问题，short参与数值运算时，先被转换成int类型的数据，第二个正确</p>
<p>扩展的赋值运算符其实隐含了一个强制类型转换。</p>
<pre><code>s+= 1;

不是等价于 s = s + 1;

而是等价于 s = (s的数据类型)(s + 1);
</code></pre><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p><img src="E:\picture\snipaste_20170313_204449.png" alt="snipaste_20170313_204449"></p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p><img src="E:\picture\snipaste_20170313_204501.png" alt="snipaste_20170313_204501"></p>
<p>l  “&amp;”和“&amp;&amp;”的区别：</p>
<p>•    单&amp;时，左边无论真假，右边都进行运算；</p>
<p>•    双&amp;时，如果左边为真，右边参与运算，如果左边为假，那么右边不参与运算。</p>
<pre><code>“|”和“||”的区别同理，双或时，左边为真，右边不参与运算。
</code></pre><h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><table>
<thead>
<tr>
<th><strong>位运算符</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>运算符</strong></td>
<td><strong>运算</strong></td>
<td><strong>范例</strong></td>
</tr>
<tr>
<td><strong>&lt;&lt;</strong></td>
<td><strong>左移</strong></td>
<td><strong>3 &lt;&lt; 2 = 12  –&gt; 3*2*2=12</strong></td>
</tr>
<tr>
<td><strong>&gt;&gt;</strong></td>
<td><strong>右移</strong></td>
<td><strong>3 &gt;&gt; 1 =  1  –&gt; 3/2=1</strong></td>
</tr>
<tr>
<td><strong>&gt;&gt;&gt;</strong></td>
<td><strong>无符号右移</strong></td>
<td><strong>3 &gt;&gt;&gt; 1 =  1 –&gt; 3/2=1</strong></td>
</tr>
<tr>
<td><strong>&amp;</strong></td>
<td><strong>位与运算</strong></td>
<td><strong>6 &amp; 3 = 2</strong></td>
</tr>
<tr>
<td>**\</td>
<td>**</td>
<td><strong>位或运算</strong></td>
<td>**6 \</td>
<td>3 = 7**</td>
</tr>
<tr>
<td><strong>^</strong></td>
<td><strong>位异或运算</strong></td>
<td><strong>6 ^ 3 = 5</strong></td>
</tr>
<tr>
<td><strong>~</strong></td>
<td><strong>位反码</strong></td>
<td><strong>~6 = -7</strong></td>
</tr>
</tbody>
</table>
<h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><p>System.out.println(3&amp; 4);</p>
<pre><code>   System.out.println(3| 4);

   System.out.println(3^ 4);

   System.out.println(~3);

分析：因为是位运算，所以我们必须先把数据换算成二进制。



3的二进制：11

   0000000000000000 00000000 00000011

4的二进制：100

   0000000000000000 00000000 00000100



&amp;位与运算：有0则0。

   0000000000000000 00000000 00000011

   &amp;00000000 00000000 00000000 00000100

   -----------------------------------

   0000000000000000 00000000 00000000

   结果是：0



|位或运算：有1则1。

   0000000000000000 00000000 00000011

   |00000000 00000000 00000000 00000100

   -----------------------------------

   0000000000000000 00000000 00000111

   结果是：7



^位异或运算：相同则0，不同则1。

   0000000000000000 00000000 00000011

   &amp;00000000 00000000 00000000 00000100

   -----------------------------------

   0000000000000000 00000000 00000111

   结果是：7



~按位取反运算符：0变1，1变0

   0000000000000000 00000000 00000011

   ~11111111 11111111 11111111 11111100 (补码)



   补码：1111111111111111 11111111 11111100

   反码：1111111111111111 11111111 11111011

   原码：1000000000000000 00000000 00000100

   结果是：-4
</code></pre><p>^的特点：一个数据对另一个数据位异或两次，该数本身不变。</p>
<h4 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h4><p>把两个数值相掉</p>
<p>//方式1：使用第三方变量(开发中用的)</p>
<pre><code>intc = a;

a= b;

b= c;

System.out.println(&quot;a:&quot;+a+&quot;,b:&quot;+b);

System.out.println(&quot;------------&quot;);

//方式2：用位异或实现(面试用)

//左边：a,b,a

//右边：a ^ b

a= a ^ b;

b= a ^ b; //a ^ b ^ b = a

a= a ^ b; //a ^ b ^ a = b

System.out.println(&quot;a:&quot;+a+&quot;,b:&quot;+b);

//方式3：用变量相加的做法

a= a + b; //a=30

b= a - b; //b=10

a= a - b; //a=20

System.out.println(&quot;a:&quot;+a+&quot;,b:&quot;+b);

//方式4：一句话搞定

b= (a+b) - (a=b); //b=30-20=10,a=20

System.out.println(&quot;a:&quot;+a+&quot;,b:&quot;+b);
</code></pre><h4 id="其他位运算符"><a href="#其他位运算符" class="headerlink" title="其他位运算符"></a>其他位运算符</h4><p>&lt;&lt;:左移 左边最高位丢弃，右边补齐0</p>
<p>>&gt;:右移 最高位是0，左边补齐0；最高为是1，左边补齐1</p>
<p>>&gt;&gt;:无符号右移 无论最高位是0还是1，左边补齐0</p>
<p>//&lt;&lt; 把&lt;&lt;左边的数据乘以2的移动次幂</p>
<pre><code>System.out.println(3&lt;&lt; 2); //3*2^2 = 3*4 = 12;



//&gt;&gt;把&gt;&gt;左边的数据除以2的移动次幂

System.out.println(24&gt;&gt; 2); //24 / 2^2 = 24 / 4 = 6

System.out.println(24&gt;&gt;&gt; 2);



System.out.println(-24&gt;&gt; 2); //依旧是-24/4 = -6
</code></pre><p>计算出3的二进制：11</p>
<pre><code>   0000000000000000 00000000 00000011

(00)00000000000000 00000000 0000001100



&gt;&gt;的移动： 

计算出24的二进制：11000

   原码：10000000 00000000 00000000 00011000

   反码：11111111 11111111 11111111 11100111

   补码：11111111 11111111 11111111 11101000



   1111111111111111 11111111 11101000

   111111111111111111 11111111 111010(00) 补码



   补码：1111111111 11111111 11111111 111010

   反码：1111111111 11111111 11111111 111001

   原码：1000000000 00000000 00000000 000110



   结果：-6



&gt;&gt;&gt;的移动：

   计算出24的二进制：11000

   原码：10000000 00000000 00000000 00011000

   反码：11111111 11111111 11111111 11100111

   补码：11111111 11111111 11111111 11101000



   1111111111111111 11111111 11101000

   001111111111111111 11111111 111010(00)



   结果：
</code></pre><ol>
<li><p>获取三个整数中的最大值</p>
<p>  inta = 10;</p>
<p>  intb = 30;</p>
<p>  intc = 20;</p>
</li>
</ol>
<pre><code>//分两步：

//A:先比较a,b的最大值

//B:拿a,b的最大值在和c进行比较

inttemp = ((a &gt; b)? a: b);

//System.out.println(temp);

intmax1 = (temp &gt; c? temp: c);

System.out.println(&quot;max1:&quot;+max1);
</code></pre><h2 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h2><pre><code>(1)顺序结构 从上往下，依次执行

(2)选择结构 按照不同的选择，执行不同的代码

(3)循环结构 做一些重复的代码
</code></pre><h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><h4 id="三种格式"><a href="#三种格式" class="headerlink" title="三种格式"></a>三种格式</h4><pre><code>A:格式1

    if(比较表达式) {

       语句体;

    }



    执行流程：

       判断比较表达式的值，看是true还是false

       如果是true，就执行语句体

       如果是false，就不执行语句体



B:格式2

    if(比较表达式) {

       语句体1;

    }else{

       语句体2;

    }



    执行流程：

       判断比较表达式的值，看是true还是false

       如果是true，就执行语句体1

       如果是false，就执行语句体2



C:格式3

    if(比较表达式1) {

       语句体1;

    }elseif(比较表达式2){

       语句体2;

    }

    ...

    else{

       语句体n+1;

    }
</code></pre><h4 id="三元运算符和if语句第二种格式的关系"><a href="#三元运算符和if语句第二种格式的关系" class="headerlink" title="三元运算符和if语句第二种格式的关系"></a>三元运算符和if语句第二种格式的关系</h4><p>所有的三元运算符能够实现的，if语句的第二种格式都能实现。</p>
<p>反之不成立。</p>
<p>如果if语句第二种格式控制的语句体是输出语句，就不可以。</p>
<p>因为三元运算符是一个运算符，必须要有一个结果返回，不能是一个输出语句</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day3/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day27/"><span>Java学习笔记_day27</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day27/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:37.976Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="反射reflect"><a href="#反射reflect" class="headerlink" title="反射reflect"></a>反射reflect</h2><p>在运行状态，通过任意一个对象，都能够获得该类的任意方法和属性，就是通过class文件对象，去使用该文件中的成员变量，构造方法，成员方法</p>
<h3 id="类的加载"><a href="#类的加载" class="headerlink" title="类的加载"></a>类的加载</h3><p>当程序要使用某个类但是这个类还没有加载到内存，那么系统会通过架子啊/连接/初始化来对这个类进行初始化</p>
<ul>
<li>加载：就是把class文件读入内存，并创建一个对应的class对象，任何类被系统使用时都会创建一个class对象</li>
<li>连接：首先验证是否有正确的内部结构，然后是准备，此时给静态成员分配内存，并设置初始值</li>
<li>初始化</li>
</ul>
<h3 id="类的加载时机"><a href="#类的加载时机" class="headerlink" title="类的加载时机"></a>类的加载时机</h3><ol>
<li>创建类的实例</li>
<li>访问类的静态变量，或者为静态变量赋值</li>
<li>调用类的静态方法</li>
<li>使用反射方式来强制创建某个类或接口对应的java.lang.Class对象</li>
<li>初始化某个类的子类</li>
<li>直接使用java.exe命令来运行某个主类</li>
</ol>
<h3 id="类加载器"><a href="#类加载器" class="headerlink" title="类加载器"></a>类加载器</h3><p>负责将.class文件加载到内在中，并为之生成对应的Class对象</p>
<h4 id="Bootstrap-ClassLoader-根类加载器"><a href="#Bootstrap-ClassLoader-根类加载器" class="headerlink" title="Bootstrap ClassLoader 根类加载器"></a>Bootstrap ClassLoader 根类加载器</h4><p>也被称为引导类加载器，负责Java核心类的加载<br>比如System,String等。在JDK中JRE的lib目录下rt.jar文件中</p>
<h4 id="Extension-ClassLoader-扩展类加载器"><a href="#Extension-ClassLoader-扩展类加载器" class="headerlink" title="Extension ClassLoader 扩展类加载器"></a>Extension ClassLoader 扩展类加载器</h4><p>负责JRE的扩展目录中jar包的加载。<br>在JDK中JRE的lib目录下ext目录</p>
<h4 id="Sysetm-ClassLoader-系统类加载器"><a href="#Sysetm-ClassLoader-系统类加载器" class="headerlink" title="Sysetm ClassLoader 系统类加载器"></a>Sysetm ClassLoader 系统类加载器</h4><p>负责在JVM启动时加载来自java命令的class文件，以及classpath环境变量所指定的jar包和类路径，包扩自己写的类</p>
<h3 id="获取class文件对象"><a href="#获取class文件对象" class="headerlink" title="获取class文件对象"></a>获取class文件对象</h3><ul>
<li><p>Object类的getClass()方法</p>
</li>
<li><p>数据类型的静态属性class</p>
</li>
<li><p>Class类中的静态方法</p>
<p>  public static Class forName(String className)要带有包名</p>
</li>
</ul>
<h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><p>Class 类的实例表示正在运行的 Java 应用程序中的类和接口</p>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> Constructor[] getConstructors():所有公共构造方法</div><div class="line"><span class="keyword">public</span> Constructor[] getDeclaredConstructors():所有构造方法</div></pre></td></tr></table></figure>
<p>注意第一个获得公共的构造方法，第二个获得所有构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">	<span class="comment">// 获取字节码文件对象</span></div><div class="line">	Class c = Class.forName(<span class="string">"cn.itcast_01.Person"</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 获取单个构造方法</span></div><div class="line">	<span class="comment">// public Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes)</span></div><div class="line">	<span class="comment">// 参数表示的是：你要获取的构造方法的构造参数个数及数据类型的class字节码文件对象</span></div><div class="line">	Constructor con = c.getConstructor();<span class="comment">// 返回的是构造方法对象</span></div><div class="line"></div><div class="line">	<span class="comment">// public T newInstance(Object... initargs)</span></div><div class="line">	<span class="comment">// 使用此 Constructor 对象表示的构造方法来创建该构造方法的声明类的新实例，并用指定的初始化参数初始化该实例。</span></div><div class="line">	Object obj = con.newInstance();</div><div class="line">	System.out.println(obj);</div><div class="line">	<span class="comment">// 和下面两行代码含义相同Person p = new Person();</span></div><div class="line">	<span class="comment">// System.out.println(p);</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>Object obj = con.newInstance()本质就是创建一个新的Person对象</p>
</blockquote>
<h3 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h3><h4 id="获得构造方法"><a href="#获得构造方法" class="headerlink" title="获得构造方法"></a>获得构造方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 需求：通过反射去获取该构造方法并使用：</div><div class="line"> * public Person(String name, int age, String address)</div><div class="line"> * </div><div class="line"> * 相当于下面代码：</div><div class="line"> * Person p = new Person("林青霞",27,"北京");</div><div class="line"> * System.out.println(p);</div><div class="line"> */	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">		<span class="comment">// 获取字节码文件对象</span></div><div class="line">		Class c = Class.forName(<span class="string">"cn.itcast_01.Person"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 获取带参构造方法对象</span></div><div class="line">		<span class="comment">// public Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes)</span></div><div class="line">		Constructor con = c.getConstructor(String.class, <span class="keyword">int</span>.class,</div><div class="line">				String.class);</div><div class="line"></div><div class="line">		<span class="comment">// 通过带参构造方法对象创建对象</span></div><div class="line">		<span class="comment">// public T newInstance(Object... initargs)</span></div><div class="line">		Object obj = con.newInstance(<span class="string">"林青霞"</span>, <span class="number">27</span>, <span class="string">"北京"</span>);</div><div class="line">		</div><div class="line">		System.out.println(obj);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<p>####获得私有构造方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 需求：通过反射获取私有构造方法并使用</div><div class="line"> * private Person(String name)&#123;&#125;</div><div class="line"> * </div><div class="line"> * Person p = new Person("风清扬");</div><div class="line"> * System.out.println(p);</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo3</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">		<span class="comment">// 获取字节码文件对象</span></div><div class="line">		Class c = Class.forName(<span class="string">"cn.itcast_01.Person"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 获取私有构造方法对象</span></div><div class="line">		<span class="comment">// NoSuchMethodException：没有这个方法异常</span></div><div class="line">		<span class="comment">// 原因是一开始我们使用的方法只能获取公共的，下面这种方式就可以了。</span></div><div class="line">		Constructor con = c.getDeclaredConstructor(String.class);</div><div class="line"></div><div class="line">		<span class="comment">// 用该私有构造方法创建对象</span></div><div class="line">		<span class="comment">// IllegalAccessException:非法的访问异常。</span></div><div class="line">		<span class="comment">// 暴力访问</span></div><div class="line">		con.setAccessible(<span class="keyword">true</span>);<span class="comment">// 值为true则指示反射的对象在使用时应该取消Java语言访问检查。</span></div><div class="line">		Object obj = con.newInstance(<span class="string">"风清扬"</span>);</div><div class="line"></div><div class="line">		System.out.println(obj);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="获得成员变量"><a href="#获得成员变量" class="headerlink" title="获得成员变量"></a>获得成员变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 通过发生获取成员变量并使用</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">		<span class="comment">// 获取字节码文件对象</span></div><div class="line">		Class c = Class.forName(<span class="string">"cn.itcast_01.Person"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 获取所有的成员变量</span></div><div class="line">		<span class="comment">// Field[] fields = c.getFields();</span></div><div class="line">		<span class="comment">// Field[] fields = c.getDeclaredFields();</span></div><div class="line">		<span class="comment">// for (Field field : fields) &#123;</span></div><div class="line">		<span class="comment">// System.out.println(field);</span></div><div class="line">		<span class="comment">// &#125;</span></div><div class="line"></div><div class="line">		<span class="comment">/*</span></div><div class="line">		 * Person p = new Person(); p.address = "北京"; System.out.println(p);</div><div class="line">		 */</div><div class="line"></div><div class="line">		<span class="comment">// 通过无参构造方法创建对象</span></div><div class="line">		Constructor con = c.getConstructor();</div><div class="line">		Object obj = con.newInstance();</div><div class="line">		System.out.println(obj);</div><div class="line"></div><div class="line">		<span class="comment">// 获取单个的成员变量</span></div><div class="line">		<span class="comment">// 获取address并对其赋值</span></div><div class="line">		Field addressField = c.getField(<span class="string">"address"</span>);</div><div class="line">		<span class="comment">// public void set(Object obj,Object value)</span></div><div class="line">		<span class="comment">// 将指定对象变量上此 Field 对象表示的字段设置为指定的新值。</span></div><div class="line">		addressField.set(obj, <span class="string">"北京"</span>); <span class="comment">// 给obj对象的addressField字段设置值为"北京"</span></div><div class="line">		System.out.println(obj);</div><div class="line"></div><div class="line">		<span class="comment">// 获取name并对其赋值</span></div><div class="line">		<span class="comment">// NoSuchFieldException</span></div><div class="line">		Field nameField = c.getDeclaredField(<span class="string">"name"</span>);</div><div class="line">		<span class="comment">// IllegalAccessException</span></div><div class="line">		nameField.setAccessible(<span class="keyword">true</span>);</div><div class="line">		nameField.set(obj, <span class="string">"林青霞"</span>);</div><div class="line">		System.out.println(obj);</div><div class="line"></div><div class="line">		<span class="comment">// 获取age并对其赋值</span></div><div class="line">		Field ageField = c.getDeclaredField(<span class="string">"age"</span>);</div><div class="line">		ageField.setAccessible(<span class="keyword">true</span>);</div><div class="line">		ageField.set(obj, <span class="number">27</span>);</div><div class="line">		System.out.println(obj);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获得方法"><a href="#获得方法" class="headerlink" title="获得方法"></a>获得方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">	<span class="comment">// 获取字节码文件对象</span></div><div class="line">	Class c = Class.forName(<span class="string">"cn.itcast_01.Person"</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 获取所有的方法</span></div><div class="line">	<span class="comment">// Method[] methods = c.getMethods(); // 获取自己的包括父亲的公共方法</span></div><div class="line">	<span class="comment">// Method[] methods = c.getDeclaredMethods(); // 获取自己的所有的方法</span></div><div class="line">	<span class="comment">// for (Method method : methods) &#123;</span></div><div class="line">	<span class="comment">// System.out.println(method);</span></div><div class="line">	<span class="comment">// &#125;</span></div><div class="line"></div><div class="line">	Constructor con = c.getConstructor();</div><div class="line">	Object obj = con.newInstance();</div><div class="line"></div><div class="line">	<span class="comment">/*</span></div><div class="line">	 * Person p = new Person(); p.show();</div><div class="line">	 */</div><div class="line"></div><div class="line">	<span class="comment">// 获取单个方法并使用</span></div><div class="line">	<span class="comment">// public void show()</span></div><div class="line">	<span class="comment">// public Method getMethod(String name,Class&lt;?&gt;... parameterTypes)</span></div><div class="line">	<span class="comment">// 第一个参数表示的方法名，第二个参数表示的是方法的参数的class类型</span></div><div class="line">	Method m1 = c.getMethod(<span class="string">"show"</span>);</div><div class="line">	<span class="comment">// obj.m1(); // 错误</span></div><div class="line">	<span class="comment">// public Object invoke(Object obj,Object... args)</span></div><div class="line">	<span class="comment">// 返回值是Object接收,第一个参数表示对象是谁，第二参数表示调用该方法的实际参数</span></div><div class="line">	m1.invoke(obj); <span class="comment">// 调用obj对象的m1方法</span></div><div class="line"></div><div class="line">	System.out.println(<span class="string">"----------"</span>);</div><div class="line">	<span class="comment">// public void method(String s)</span></div><div class="line">	Method m2 = c.getMethod(<span class="string">"method"</span>, String.class);</div><div class="line">	m2.invoke(obj, <span class="string">"hello"</span>);</div><div class="line">	System.out.println(<span class="string">"----------"</span>);</div><div class="line"></div><div class="line">	<span class="comment">// public String getString(String s, int i)</span></div><div class="line">	Method m3 = c.getMethod(<span class="string">"getString"</span>, String.class, <span class="keyword">int</span>.class);</div><div class="line">	Object objString = m3.invoke(obj, <span class="string">"hello"</span>, <span class="number">100</span>);</div><div class="line">	System.out.println(objString);</div><div class="line">	<span class="comment">// String s = (String)m3.invoke(obj, "hello",100);</span></div><div class="line">	<span class="comment">// System.out.println(s);</span></div><div class="line">	System.out.println(<span class="string">"----------"</span>);</div><div class="line"></div><div class="line">	<span class="comment">// private void function()</span></div><div class="line">	Method m4 = c.getDeclaredMethod(<span class="string">"function"</span>);</div><div class="line">	m4.setAccessible(<span class="keyword">true</span>);</div><div class="line">	m4.invoke(obj);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="通过配置文件方便升级代码"><a href="#通过配置文件方便升级代码" class="headerlink" title="通过配置文件方便升级代码"></a>通过配置文件方便升级代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 通过配置文件运行类中的方法</div><div class="line"> * </div><div class="line"> * 反射：</div><div class="line"> * 		需要有配置文件配合使用。</div><div class="line"> * 		用class.txt代替。</div><div class="line"> * 		并且你知道有两个键。</div><div class="line"> * 			className</div><div class="line"> * 			methodName</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">		<span class="comment">// 反射前的做法</span></div><div class="line">		<span class="comment">// Student s = new Student();</span></div><div class="line">		<span class="comment">// s.love();</span></div><div class="line">		<span class="comment">// Teacher t = new Teacher();</span></div><div class="line">		<span class="comment">// t.love();</span></div><div class="line">		<span class="comment">// Worker w = new Worker();</span></div><div class="line">		<span class="comment">// w.love();</span></div><div class="line">		<span class="comment">// 反射后的做法</span></div><div class="line"></div><div class="line">		<span class="comment">// 加载键值对数据</span></div><div class="line">		Properties prop = <span class="keyword">new</span> Properties();</div><div class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"class.txt"</span>);</div><div class="line">		prop.load(fr);</div><div class="line">		fr.close();</div><div class="line"></div><div class="line">		<span class="comment">// 获取数据</span></div><div class="line">		String className = prop.getProperty(<span class="string">"className"</span>);</div><div class="line">		String methodName = prop.getProperty(<span class="string">"methodName"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 反射</span></div><div class="line">		Class c = Class.forName(className);</div><div class="line"></div><div class="line">		Constructor con = c.getConstructor();</div><div class="line">		Object obj = con.newInstance();</div><div class="line"></div><div class="line">		<span class="comment">// 调用方法</span></div><div class="line">		Method m = c.getMethod(methodName);</div><div class="line">		m.invoke(obj);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h4 id="越过jdk新特性运行源码"><a href="#越过jdk新特性运行源码" class="headerlink" title="越过jdk新特性运行源码"></a>越过jdk新特性运行源码</h4><p>ArrayList<integer>的一个对象，我想在这个集合中添加一个字符串数据，如何实现呢？</integer></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException,</span></div><div class="line">			SecurityException, IllegalAccessException,</div><div class="line">			IllegalArgumentException, InvocationTargetException &#123;</div><div class="line">		<span class="comment">// 创建集合对象</span></div><div class="line">		ArrayList&lt;Integer&gt; array = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line"></div><div class="line">		<span class="comment">// array.add("hello");</span></div><div class="line">		<span class="comment">// array.add(10);</span></div><div class="line"></div><div class="line">		Class c = array.getClass(); <span class="comment">// 集合ArrayList的class文件对象</span></div><div class="line">		Method m = c.getMethod(<span class="string">"add"</span>, Object.class);</div><div class="line"></div><div class="line">		m.invoke(array, <span class="string">"hello"</span>); <span class="comment">// 调用array的add方法，传入的值是hello</span></div><div class="line">		m.invoke(array, <span class="string">"world"</span>);</div><div class="line">		m.invoke(array, <span class="string">"java"</span>);</div><div class="line"></div><div class="line">		System.out.println(array);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在反编译的源码里，没有泛型，所以可以使用反射机制调用源码</p>
<h2 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h2><p>本来应该自己做的事情，却请了别人来做，被请的人就是代理对象</p>
<p>在Java中java.lang.reflect包下提供了一个Proxy类和一个InvocationHandler接口，通过使用这个类和接口就可以生成动态代理对象。JDK提供的代理只能针对接口做代理。我们有更强大的代理cglib</p>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><p>假设我有两个类，而且这两个类都要实现一个相同的操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		UserDao ud = <span class="keyword">new</span> UserDaoImpl();</div><div class="line">		ud.add();</div><div class="line">		ud.delete();</div><div class="line">		ud.update();</div><div class="line">		ud.find();</div><div class="line">		System.out.println(<span class="string">"-----------"</span>);</div><div class="line">		<span class="comment">// 我们要创建一个动态代理对象</span></div><div class="line">		<span class="comment">// Proxy类中有一个方法可以创建动态代理对象</span></div><div class="line">		<span class="comment">// public static Object newProxyInstance(ClassLoader loader,Class&lt;?&gt;[]</span></div><div class="line">		<span class="comment">// interfaces,InvocationHandler h)</span></div><div class="line">		<span class="comment">// 我准备对ud对象做一个代理对象</span></div><div class="line">		MyInvocationHandler handler = <span class="keyword">new</span> MyInvocationHandler(ud);</div><div class="line">		UserDao proxy = (UserDao) Proxy.newProxyInstance(ud.getClass()</div><div class="line">				.getClassLoader(), ud.getClass().getInterfaces(), handler);</div><div class="line">		proxy.add();</div><div class="line">		proxy.delete();</div><div class="line">		proxy.update();</div><div class="line">		proxy.find();</div><div class="line">		System.out.println(<span class="string">"-----------"</span>);</div><div class="line"></div><div class="line">		StudentDao sd = <span class="keyword">new</span> StudentDaoImpl();</div><div class="line">		MyInvocationHandler handler2 = <span class="keyword">new</span> MyInvocationHandler(sd);</div><div class="line">		StudentDao proxy2 = (StudentDao) Proxy.newProxyInstance(sd.getClass()</div><div class="line">				.getClassLoader(), sd.getClass().getInterfaces(), handler2);</div><div class="line">		proxy2.login();</div><div class="line">		proxy2.regist();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> Object target; <span class="comment">// 目标对象</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyInvocationHandler</span><span class="params">(Object target)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.target = target;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></div><div class="line">			<span class="keyword">throws</span> Throwable &#123;</div><div class="line">		System.out.println(<span class="string">"权限校验"</span>);</div><div class="line">		Object result = method.invoke(target, args);</div><div class="line">		System.out.println(<span class="string">"日志记录"</span>);</div><div class="line">		<span class="keyword">return</span> result; <span class="comment">// 返回的是代理对象</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StudentDao</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">regist</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDaoImpl</span> <span class="keyword">implements</span> <span class="title">StudentDao</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"登录功能"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">regist</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"注册功能"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"添加功能"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"删除功能"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"修改功能"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"查找功能"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="模板设计模式"><a href="#模板设计模式" class="headerlink" title="模板设计模式"></a>模板设计模式</h2><p>模版方法模式就是定义一个算法的骨架，而将具体的算法延迟到子类中来实现</p>
<p><a href="http://meigesir.iteye.com/blog/1506484" target="_blank" rel="external">http://meigesir.iteye.com/blog/1506484</a></p>
<h2 id="装饰设计模式"><a href="#装饰设计模式" class="headerlink" title="装饰设计模式"></a>装饰设计模式</h2><p>装饰模式就是使用被装饰类的一个子类的实例，在客户端将这个子类的实例交给装饰类。是继承的替代方案</p>
<p><a href="http://jiangnanlove.iteye.com/blog/914120" target="_blank" rel="external">http://jiangnanlove.iteye.com/blog/914120</a></p>
<h2 id="JDK新特新"><a href="#JDK新特新" class="headerlink" title="JDK新特新"></a>JDK新特新</h2><p>自动装箱和拆箱<br>泛型<br>增强for循环<br>静态导入<br>可变参数<br>枚举</p>
<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><p>枚举类可以有构造器，但必须是private的，它默认的也是private的。枚举项的用法比较特殊：枚举(“”)</p>
<h4 id="实例代码"><a href="#实例代码" class="headerlink" title="实例代码"></a>实例代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Direction3 dd = Direction3.FRONT;</div><div class="line">dd = Direction3.LEFT;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (dd) &#123;</div><div class="line"><span class="keyword">case</span> FRONT:</div><div class="line">	System.out.println(<span class="string">"你选择了前"</span>);</div><div class="line">	<span class="keyword">break</span>;</div><div class="line"><span class="keyword">case</span> BEHIND:</div><div class="line">	System.out.println(<span class="string">"你选择了后"</span>);</div><div class="line">	<span class="keyword">break</span>;</div><div class="line"><span class="keyword">case</span> LEFT:</div><div class="line">	System.out.println(<span class="string">"你选择了左"</span>);</div><div class="line">	<span class="keyword">break</span>;</div><div class="line"><span class="keyword">case</span> RIGHT:</div><div class="line">	System.out.println(<span class="string">"你选择了右"</span>);</div><div class="line">	<span class="keyword">break</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Direction3 &#123;</div><div class="line">	FRONT(<span class="string">"前"</span>) &#123;</div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">			System.out.println(<span class="string">"前"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	BEHIND(<span class="string">"后"</span>) &#123;</div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">			System.out.println(<span class="string">"后"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	LEFT(<span class="string">"左"</span>) &#123;</div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">			System.out.println(<span class="string">"左"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	RIGHT(<span class="string">"右"</span>) &#123;</div><div class="line"></div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">			<span class="comment">// TODO Auto-generated method stub</span></div><div class="line">			</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> String name;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Direction3</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> name;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Direction2 &#123;</div><div class="line">	FRONT(<span class="string">"前"</span>), BEHIND(<span class="string">"后"</span>), LEFT(<span class="string">"左"</span>), RIGHT(<span class="string">"右"</span>);</div><div class="line"></div><div class="line">	<span class="keyword">private</span> String name;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Direction2</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.setName(name);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> name;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Direction &#123;</div><div class="line">	FRONT, BEHIND, LEFT, RIGHT;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="枚举的方法"><a href="#枚举的方法" class="headerlink" title="枚举的方法"></a>枚举的方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &lt;T&gt; T valueOf(Class&lt;T&gt; type,String name)</span></div><div class="line">Direction2 d = Enum.valueOf(Direction2.class, <span class="string">"FRONT"</span>);</div><div class="line">System.out.println(d.getName());</div><div class="line">System.out.println(<span class="string">"----------------"</span>);</div><div class="line"><span class="comment">// values()</span></div><div class="line"><span class="comment">// 此方法虽然在JDK文档中查找不到，但每个枚举类都具有该方法，它遍历枚举类的所有枚举值非常方便</span></div><div class="line">Direction2[] dirs = Direction2.values();</div><div class="line"><span class="keyword">for</span> (Direction2 d2 : dirs) &#123;</div><div class="line">	System.out.println(d2);</div><div class="line">	System.out.println(d2.getName());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="JDK新特性"><a href="#JDK新特性" class="headerlink" title="JDK新特性"></a>JDK新特性</h2><p>二进制字面量<br>数字字面量可以出现下划线<br>switch 语句可以用字符串<br>泛型简化<br>异常的多个catch合并<br>try-with-resources 语句</p>
<h3 id="二进制字面值量"><a href="#二进制字面值量" class="headerlink" title="二进制字面值量"></a>二进制字面值量</h3><p>只要在二进制数值前面加 0b或者0B<br>举例：<br>​    int x = ob110110</p>
<h3 id="字面值出现下划线"><a href="#字面值出现下划线" class="headerlink" title="字面值出现下划线"></a>字面值出现下划线</h3><p>为了增强对数值的阅读性，如我们经常把数据用逗号分隔一样。JDK7提供了_对数据分隔。<br>举例：<br>​    int x = 100_1000;<br>注意事项：<br>​    不能出现在进制标识和数值之间<br>​    不能出现在数值开头和结尾<br>​    不能出现在小数点旁边</p>
<h3 id="泛型简化"><a href="#泛型简化" class="headerlink" title="泛型简化"></a>泛型简化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ArrayList&lt;String&gt; array = <span class="keyword">new</span> ArrayList&lt;String&gt;();转化成简化版</div><div class="line">ArrayList&lt;String&gt; array = <span class="keyword">new</span> ArrayList&lt;&gt;();</div></pre></td></tr></table></figure>
<h3 id="try-with-resources"><a href="#try-with-resources" class="headerlink" title="try-with-resources"></a>try-with-resources</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// try(必须是java.lang.AutoCloseable的子类对象)&#123;…&#125;</span></div><div class="line"></div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">	FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</div><div class="line">	FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);</div><div class="line">	<span class="keyword">int</span> ch = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> ((ch = fr.read()) != -<span class="number">1</span>) &#123;</div><div class="line">		fw.write(ch);</div><div class="line">	&#125;</div><div class="line">	fw.close();</div><div class="line">	fr.close();</div><div class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">	e.printStackTrace();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 改进版的代码</span></div><div class="line"><span class="keyword">try</span> (FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</div><div class="line">		FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);) &#123;</div><div class="line">	<span class="keyword">int</span> ch = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> ((ch = fr.read()) != -<span class="number">1</span>) &#123;</div><div class="line">		fw.write(ch);</div><div class="line">	&#125;</div><div class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">	e.printStackTrace();</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day27/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day26/"><span>Java学习笔记_day26</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day26/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:37.882Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><h3 id="网络模型"><a href="#网络模型" class="headerlink" title="网络模型"></a>网络模型</h3><p> <img src="E:\picture\osi.png" alt="osi"></p>
<h3 id="三要素"><a href="#三要素" class="headerlink" title="三要素"></a>三要素</h3><p>ip地址，端口号，传输协议</p>
<blockquote>
<p>127.0.0.1 回环地址,可用于测试本机的网络是否有问题. ping 127.0.0.1   </p>
</blockquote>
<h4 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h4><pre><code>正在运行的程序的标识。
有效端口：0~65535，其中0~1024系统使用或保留端口。
</code></pre><h4 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h4><pre><code>UDP：
    把数据打包
    数据有限制64k
    不建立连接
    速度快
    不可靠
TCP：
    建立连接通道
    数据无限制
    速度慢
    可靠
</code></pre><h4 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h4><p><img src="E:\picture\Socket通信原理图解.png" alt="Socket通信原理图解"></p>
<h4 id="如果一个类没有构造方法："><a href="#如果一个类没有构造方法：" class="headerlink" title="如果一个类没有构造方法："></a>如果一个类没有构造方法：</h4><p>  A:成员全部是静态的(Math,Arrays,Collections)<br>  B:单例设计模式(Runtime)<br>  C:类中有静态方法返回该类的对象(InetAddress)<br>          class Demo {<br>              private Demo(){}</p>
<pre><code>    public static Demo getXxx() {
        return new Demo();
    }
}
</code></pre><h2 id="InetAddress"><a href="#InetAddress" class="headerlink" title="InetAddress"></a>InetAddress</h2><p>public static InetAddress getByName(String host):根据主机名或者IP地址的字符串表示得到IP地址对象</p>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnknownHostException </span>&#123;</div><div class="line">	<span class="comment">// public static InetAddress getByName(String host)</span></div><div class="line">	<span class="comment">// InetAddress address = InetAddress.getByName("liuyi");</span></div><div class="line">	<span class="comment">// InetAddress address = InetAddress.getByName("192.168.12.92");</span></div><div class="line">	InetAddress address = InetAddress.getByName(<span class="string">"192.168.1.100"</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 获取两个东西：主机名，IP地址</span></div><div class="line">	<span class="comment">// public String getHostName()</span></div><div class="line">	String name = address.getHostName();</div><div class="line">	<span class="comment">// public String getHostAddress()</span></div><div class="line">	String ip = address.getHostAddress();</div><div class="line">	System.out.println(name + <span class="string">"---"</span> + ip);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><h3 id="发送程序"><a href="#发送程序" class="headerlink" title="发送程序"></a>发送程序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * UDP协议发送数据：</div><div class="line"> * A:创建发送端Socket对象</div><div class="line"> * B:创建数据，并把数据打包</div><div class="line"> * C:调用Socket对象的发送方法发送数据包</div><div class="line"> * D:释放资源</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建发送端Socket对象</span></div><div class="line">		<span class="comment">// DatagramSocket()</span></div><div class="line">		DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</div><div class="line"></div><div class="line">		<span class="comment">// 创建数据，并把数据打包</span></div><div class="line">		<span class="comment">// DatagramPacket(byte[] buf, int length, InetAddress address, int port)</span></div><div class="line">		<span class="comment">// 创建数据</span></div><div class="line">		<span class="keyword">byte</span>[] bys = <span class="string">"hello,udp,我来了"</span>.getBytes();</div><div class="line">		<span class="comment">// 长度</span></div><div class="line">		<span class="keyword">int</span> length = bys.length;</div><div class="line">		<span class="comment">// IP地址对象</span></div><div class="line">		InetAddress address = InetAddress.getByName(<span class="string">"192.168.12.92"</span>);</div><div class="line">		<span class="comment">// 端口</span></div><div class="line">		<span class="keyword">int</span> port = <span class="number">10086</span>;</div><div class="line">		DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(bys, length, address, port);</div><div class="line"></div><div class="line">		<span class="comment">// 调用Socket对象的发送方法发送数据包</span></div><div class="line">		<span class="comment">// public void send(DatagramPacket p)</span></div><div class="line">		ds.send(dp);</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		ds.close();</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="接受程序"><a href="#接受程序" class="headerlink" title="接受程序"></a>接受程序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * UDP协议接收数据：</div><div class="line"> * A:创建接收端Socket对象</div><div class="line"> * B:创建一个数据包(接收容器)</div><div class="line"> * C:调用Socket对象的接收方法接收数据</div><div class="line"> * D:解析数据包，并显示在控制台</div><div class="line"> * E:释放资源</div><div class="line"> */</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建接收端Socket对象</span></div><div class="line">		<span class="comment">// DatagramSocket(int port)</span></div><div class="line">		DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">10086</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 创建一个数据包(接收容器)</span></div><div class="line">		<span class="comment">// DatagramPacket(byte[] buf, int length)</span></div><div class="line">		<span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="keyword">int</span> length = bys.length;</div><div class="line">		DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(bys, length);</div><div class="line"></div><div class="line">		<span class="comment">// 调用Socket对象的接收方法接收数据</span></div><div class="line">		<span class="comment">// public void receive(DatagramPacket p)</span></div><div class="line">		ds.receive(dp); <span class="comment">// 阻塞式</span></div><div class="line"></div><div class="line">		<span class="comment">// 解析数据包，并显示在控制台</span></div><div class="line">		<span class="comment">// 获取对方的ip</span></div><div class="line">		<span class="comment">// public InetAddress getAddress()</span></div><div class="line">		InetAddress address = dp.getAddress();</div><div class="line">		String ip = address.getHostAddress();</div><div class="line">		<span class="comment">// public byte[] getData():获取数据缓冲区</span></div><div class="line">		<span class="comment">// public int getLength():获取数据的实际长度</span></div><div class="line">		<span class="keyword">byte</span>[] bys2 = dp.getData();</div><div class="line">		<span class="keyword">int</span> len = dp.getLength();</div><div class="line">		String s = <span class="keyword">new</span> String(bys2, <span class="number">0</span>, len);</div><div class="line">		System.out.println(ip + <span class="string">"传递的数据是:"</span> + s);</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		ds.close();</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="UDP实现聊天室"><a href="#UDP实现聊天室" class="headerlink" title="UDP实现聊天室"></a>UDP实现聊天室</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 通过多线程改进刚才的聊天程序，这样我就可以实现在一个窗口发送和接收数据了</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatRoom</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		DatagramSocket dsSend = <span class="keyword">new</span> DatagramSocket();</div><div class="line">		DatagramSocket dsReceive = <span class="keyword">new</span> DatagramSocket(<span class="number">12306</span>);</div><div class="line"></div><div class="line">		SendThread st = <span class="keyword">new</span> SendThread(dsSend);</div><div class="line">		ReceiveThread rt = <span class="keyword">new</span> ReceiveThread(dsReceive);</div><div class="line"></div><div class="line">		Thread t1 = <span class="keyword">new</span> Thread(st);</div><div class="line">		Thread t2 = <span class="keyword">new</span> Thread(rt);</div><div class="line"></div><div class="line">		t1.start();</div><div class="line">		t2.start();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReceiveThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> DatagramSocket ds;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ReceiveThread</span><span class="params">(DatagramSocket ds)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.ds = ds;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">				<span class="comment">// 创建一个包裹</span></div><div class="line">				<span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">				DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(bys, bys.length);</div><div class="line"></div><div class="line">				<span class="comment">// 接收数据</span></div><div class="line">				ds.receive(dp);</div><div class="line"></div><div class="line">				<span class="comment">// 解析数据</span></div><div class="line">				String ip = dp.getAddress().getHostAddress();</div><div class="line">				String s = <span class="keyword">new</span> String(dp.getData(), <span class="number">0</span>, dp.getLength());</div><div class="line">				System.out.println(<span class="string">"from "</span> + ip + <span class="string">" data is : "</span> + s);</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> DatagramSocket ds;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SendThread</span><span class="params">(DatagramSocket ds)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.ds = ds;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">// 封装键盘录入数据</span></div><div class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</div><div class="line">					System.in));</div><div class="line">			String line = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</div><div class="line">				<span class="keyword">if</span> (<span class="string">"886"</span>.equals(line)) &#123;</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line"></div><div class="line">				<span class="comment">// 创建数据并打包</span></div><div class="line">				<span class="keyword">byte</span>[] bys = line.getBytes();</div><div class="line">				<span class="comment">// DatagramPacket dp = new DatagramPacket(bys, bys.length,</span></div><div class="line">				<span class="comment">// InetAddress.getByName("192.168.12.92"), 12345);</span></div><div class="line">				DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(bys, bys.length,</div><div class="line">						InetAddress.getByName(<span class="string">"192.168.12.255"</span>), <span class="number">12306</span>);</div><div class="line"></div><div class="line">				<span class="comment">// 发送数据</span></div><div class="line">				ds.send(dp);</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="comment">// 释放资源</span></div><div class="line">			ds.close();</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h3 id="接受代码"><a href="#接受代码" class="headerlink" title="接受代码"></a>接受代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * TCP协议接收数据：</div><div class="line"> * A:创建接收端的Socket对象</div><div class="line"> * B:监听客户端连接。返回一个对应的Socket对象</div><div class="line"> * C:获取输入流，读取数据显示在控制台</div><div class="line"> * D:释放资源</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServerDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建接收端的Socket对象</span></div><div class="line">		<span class="comment">// ServerSocket(int port)</span></div><div class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 监听客户端连接。返回一个对应的Socket对象</span></div><div class="line">		<span class="comment">// public Socket accept()</span></div><div class="line">		Socket s = ss.accept(); <span class="comment">// 侦听并接受到此套接字的连接。此方法在连接传入之前一直阻塞。</span></div><div class="line"></div><div class="line">		<span class="comment">// 获取输入流，读取数据显示在控制台</span></div><div class="line">		InputStream is = s.getInputStream();</div><div class="line"></div><div class="line">		<span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="keyword">int</span> len = is.read(bys); <span class="comment">// 阻塞式方法</span></div><div class="line">		String str = <span class="keyword">new</span> String(bys, <span class="number">0</span>, len);</div><div class="line"></div><div class="line">		String ip = s.getInetAddress().getHostAddress();</div><div class="line"></div><div class="line">		System.out.println(ip + <span class="string">"---"</span> + str);</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		s.close();</div><div class="line">		<span class="comment">// ss.close(); //这个不应该关闭</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意：服务器不应该关闭，但是流应该关闭</p>
<p>阻塞式方法:程序一直停在方法这里，等待数据。没有数据就不继续往下执行，至到得到数据</p>
<h3 id="发送端"><a href="#发送端" class="headerlink" title="发送端"></a>发送端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * TCP协议发送数据：</div><div class="line"> * A:创建发送端的Socket对象</div><div class="line"> * 		这一步如果成功，就说明连接已经建立成功了。</div><div class="line"> * B:获取输出流，写数据</div><div class="line"> * C:释放资源</div><div class="line"> * </div><div class="line"> * 连接被拒绝。TCP协议一定要先看服务器。</div><div class="line"> * java.net.ConnectException: Connection refused: connect</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建发送端的Socket对象</span></div><div class="line">		<span class="comment">// Socket(InetAddress address, int port)</span></div><div class="line">		<span class="comment">// Socket(String host, int port)</span></div><div class="line">		<span class="comment">// Socket s = new Socket(InetAddress.getByName("192.168.12.92"), 8888);</span></div><div class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">"192.168.12.92"</span>, <span class="number">8888</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 获取输出流，写数据</span></div><div class="line">		<span class="comment">// public OutputStream getOutputStream()</span></div><div class="line">		OutputStream os = s.getOutputStream();</div><div class="line">		os.write(<span class="string">"hello,tcp,我来了"</span>.getBytes());</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		s.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="带有数据的发送和接受的客户端和服务端"><a href="#带有数据的发送和接受的客户端和服务端" class="headerlink" title="带有数据的发送和接受的客户端和服务端"></a>带有数据的发送和接受的客户端和服务端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServerDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建服务器Socket对象</span></div><div class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 监听客户端的连接</span></div><div class="line">		Socket s = ss.accept(); <span class="comment">// 阻塞</span></div><div class="line"></div><div class="line">		<span class="comment">// 获取输入流</span></div><div class="line">		InputStream is = s.getInputStream();</div><div class="line">		<span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="keyword">int</span> len = is.read(bys); <span class="comment">// 阻塞</span></div><div class="line">		String server = <span class="keyword">new</span> String(bys, <span class="number">0</span>, len);</div><div class="line">		System.out.println(<span class="string">"server:"</span> + server);</div><div class="line"></div><div class="line">		<span class="comment">// 获取输出流</span></div><div class="line">		OutputStream os = s.getOutputStream();</div><div class="line">		os.write(<span class="string">"数据已经收到"</span>.getBytes());</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		s.close();</div><div class="line">		<span class="comment">// ss.close();</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建客户端Socket对象</span></div><div class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">"192.168.1.100"</span>, <span class="number">9999</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 获取输出流</span></div><div class="line">		OutputStream os = s.getOutputStream();</div><div class="line">		os.write(<span class="string">"今天天气很好,适合睡觉"</span>.getBytes());</div><div class="line"></div><div class="line">		<span class="comment">// 获取输入流</span></div><div class="line">		InputStream is = s.getInputStream();</div><div class="line">		<span class="keyword">byte</span>[] bys = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="keyword">int</span> len = is.read(bys);<span class="comment">// 阻塞</span></div><div class="line">		String client = <span class="keyword">new</span> String(bys, <span class="number">0</span>, len);</div><div class="line">		System.out.println(<span class="string">"client:"</span> + client);</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		s.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="多线程的客户和服务端"><a href="#多线程的客户和服务端" class="headerlink" title="多线程的客户和服务端"></a>多线程的客户和服务端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadServer</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建服务器Socket对象</span></div><div class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">11111</span>);</div><div class="line"></div><div class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">			Socket s = ss.accept();</div><div class="line">			<span class="keyword">new</span> Thread(<span class="keyword">new</span> UserThread(s)).start();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> Socket s;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">UserThread</span><span class="params">(Socket s)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.s = s;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">// 封装通道内的流</span></div><div class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</div><div class="line">					s.getInputStream()));</div><div class="line">			<span class="comment">// 封装文本文件</span></div><div class="line">			<span class="comment">// BufferedWriter bw = new BufferedWriter(new</span></div><div class="line">			<span class="comment">// FileWriter("Copy.java"));</span></div><div class="line"></div><div class="line">			<span class="comment">// 为了防止名称冲突</span></div><div class="line">			String newName = System.currentTimeMillis() + <span class="string">".java"</span>;</div><div class="line">			BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(newName));</div><div class="line"></div><div class="line">			String line = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123; <span class="comment">// 阻塞</span></div><div class="line">				bw.write(line);</div><div class="line">				bw.newLine();</div><div class="line">				bw.flush();</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="comment">// 给出反馈</span></div><div class="line">			BufferedWriter bwServer = <span class="keyword">new</span> BufferedWriter(</div><div class="line">					<span class="keyword">new</span> OutputStreamWriter(s.getOutputStream()));</div><div class="line">			bwServer.write(<span class="string">"文件上传成功"</span>);</div><div class="line">			bwServer.newLine();</div><div class="line">			bwServer.flush();</div><div class="line"></div><div class="line">			<span class="comment">// 释放资源</span></div><div class="line">			bw.close();</div><div class="line">			s.close();</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadClient</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">// 创建客户端Socket对象</span></div><div class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">"192.168.12.92"</span>, <span class="number">11111</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 封装文本文件</span></div><div class="line">		<span class="comment">// BufferedReader br = new BufferedReader(new FileReader(</span></div><div class="line">		<span class="comment">// "InetAddressDemo.java"));</span></div><div class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(</div><div class="line">				<span class="string">"ReceiveDemo.java"</span>));</div><div class="line">		<span class="comment">// 封装通道内流</span></div><div class="line">		BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(</div><div class="line">				s.getOutputStream()));</div><div class="line"></div><div class="line">		String line = <span class="keyword">null</span>;</div><div class="line">		<span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123; <span class="comment">// 阻塞</span></div><div class="line">			bw.write(line);</div><div class="line">			bw.newLine();</div><div class="line">			bw.flush();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="comment">// Socket提供了一个终止，它会通知服务器你别等了，我没有数据过来了</span></div><div class="line">		s.shutdownOutput();</div><div class="line"></div><div class="line">		<span class="comment">// 接收反馈</span></div><div class="line">		BufferedReader brClient = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</div><div class="line">				s.getInputStream()));</div><div class="line">		String client = brClient.readLine(); <span class="comment">// 阻塞</span></div><div class="line">		System.out.println(client);</div><div class="line"></div><div class="line">		<span class="comment">// 释放资源</span></div><div class="line">		br.close();</div><div class="line">		s.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day26/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day25/"><span>Java学习笔记_day25</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day25/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:37.804Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><p>Graphical User Interface(图形用户接口)</p>
<h3 id="API所在的包"><a href="#API所在的包" class="headerlink" title="API所在的包"></a>API所在的包</h3><p>java.awt：Abstract Window ToolKit (抽象窗口工具包)，需要调用本地系统方法实现功能。属重量级控件。<br>javax.swing：在AWT的基础上，建立的一套图形界面系统，其中提供了更多的组件，而且完全由Java实现。增强了移植性，属轻量级控件。</p>
<p>java是java的基本包，javax是扩展包</p>
<h3 id="GUI继承体系"><a href="#GUI继承体系" class="headerlink" title="GUI继承体系"></a>GUI继承体系</h3><p> <img src="E:\picture\gui.png" alt="gui"></p>
<p>左边的组件是容器组件，右边是单个组件</p>
<h3 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Frame f = <span class="keyword">new</span> Frame(<span class="string">"林青霞"</span>);</div><div class="line"></div><div class="line"><span class="comment">// 设置窗体标题</span></div><div class="line">f.setTitle(<span class="string">"HelloWorld"</span>);</div><div class="line"><span class="comment">// 设置窗体大小</span></div><div class="line">f.setSize(<span class="number">400</span>, <span class="number">300</span>); <span class="comment">// 单位：像素</span></div><div class="line"><span class="comment">// 设置窗体位置</span></div><div class="line">f.setLocation(<span class="number">400</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="comment">// 调用一个方法，设置让窗体可见</span></div><div class="line">f.setVisible(<span class="keyword">true</span>);</div></pre></td></tr></table></figure>
<p>setVisible方法的调用要在f.setSize(400, 300)等之前</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> Dimension d = <span class="keyword">new</span> Dimension(<span class="number">400</span>, <span class="number">300</span>);</div><div class="line"> f.setSize(d);</div><div class="line"> <span class="comment">// f.setLocation(400, 200);</span></div><div class="line"> <span class="comment">// Point(int x, int y)</span></div><div class="line"> Point p = <span class="keyword">new</span> Point(<span class="number">400</span>, <span class="number">200</span>);</div><div class="line"> f.setLocation(p);</div><div class="line"> <span class="comment">//一个方法搞定</span></div><div class="line">f.setBounds(<span class="number">400</span>, <span class="number">200</span>, <span class="number">400</span>, <span class="number">300</span>);</div></pre></td></tr></table></figure>
<h4 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">		<span class="comment">// 创建窗体对象</span></div><div class="line">		Frame f = <span class="keyword">new</span> Frame(<span class="string">"窗体关闭案例"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体属性</span></div><div class="line">		f.setBounds(<span class="number">400</span>, <span class="number">200</span>, <span class="number">400</span>, <span class="number">300</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 让窗体关闭</span></div><div class="line">		<span class="comment">//事件源</span></div><div class="line">		<span class="comment">//事件：对窗体的处理</span></div><div class="line">		<span class="comment">//事件处理：关闭窗口(System.exit(0));</span></div><div class="line">		<span class="comment">//事件监听</span></div><div class="line"><span class="comment">//		f.addWindowListener(new WindowListener() &#123;</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowOpened(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowIconified(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowDeiconified(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowDeactivated(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowClosing(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//				System.exit(0);</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowClosed(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//			</span></div><div class="line"><span class="comment">//			@Override</span></div><div class="line"><span class="comment">//			public void windowActivated(WindowEvent e) &#123;</span></div><div class="line"><span class="comment">//			&#125;</span></div><div class="line"><span class="comment">//		&#125;);</span></div><div class="line">		</div><div class="line">		<span class="comment">//用适配器类改进</span></div><div class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</div><div class="line">				System.exit(<span class="number">0</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体可见</span></div><div class="line">		f.setVisible(<span class="keyword">true</span>);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<p>这里的事件监听运用了适配器模式</p>
<h2 id="窗体布局"><a href="#窗体布局" class="headerlink" title="窗体布局"></a>窗体布局</h2><p> <img src="E:\picture\把文本框数据转移到文本域.jpg" alt="把文本框数据转移到文本域"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FrameDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 创建窗体对象</span></div><div class="line">		Frame f = <span class="keyword">new</span> Frame(<span class="string">"数据转移"</span>);</div><div class="line">		<span class="comment">// 设置窗体属性和布局</span></div><div class="line">		f.setBounds(<span class="number">400</span>, <span class="number">200</span>, <span class="number">400</span>, <span class="number">300</span>);</div><div class="line">		f.setLayout(<span class="keyword">new</span> FlowLayout());</div><div class="line"></div><div class="line">		<span class="comment">// 创建文本框</span></div><div class="line">		<span class="keyword">final</span> TextField tf = <span class="keyword">new</span> TextField(<span class="number">20</span>);</div><div class="line">		<span class="comment">// 创建按钮</span></div><div class="line">		Button bu = <span class="keyword">new</span> Button(<span class="string">"数据转移"</span>);</div><div class="line">		<span class="comment">// 创建文本域</span></div><div class="line">		<span class="keyword">final</span> TextArea ta = <span class="keyword">new</span> TextArea(<span class="number">10</span>, <span class="number">40</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 把组件添加到窗体</span></div><div class="line">		f.add(tf);</div><div class="line">		f.add(bu);</div><div class="line">		f.add(ta);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体关闭</span></div><div class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</div><div class="line">				System.exit(<span class="number">0</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// 对按钮添加事件</span></div><div class="line">		bu.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</div><div class="line">				<span class="comment">// 获取文本框的值</span></div><div class="line">				String tf_str = tf.getText().trim();</div><div class="line">				<span class="comment">// 清空数据</span></div><div class="line">				tf.setText(<span class="string">""</span>);</div><div class="line"></div><div class="line">				<span class="comment">// 设置给文本域</span></div><div class="line">				<span class="comment">// ta.setText(tf_str);</span></div><div class="line">				<span class="comment">// 追加和换行</span></div><div class="line">				ta.append(tf_str + <span class="string">"\r\n"</span>);</div><div class="line">				</div><div class="line">				<span class="comment">//获取光标</span></div><div class="line">				tf.requestFocus();</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体显示</span></div><div class="line">		f.setVisible(<span class="keyword">true</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意：final TextField tf = new TextField(20);的final修饰符，局部内部类访问局部变量，变量一定要使用final修饰</p>
<h2 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 针对用户操作的四种功能</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAdapter</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl2</span> <span class="keyword">extends</span> <span class="title">UserAdapter</span> </span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"添加功能"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 问题：</div><div class="line"> * 		接口(方法比较多) -- 实现类(仅仅使用一个，也得把其他的实现给提供了，哪怕是空实现)</div><div class="line"> * 		太麻烦了。</div><div class="line"> * 解决方案：</div><div class="line"> * 		接口(方法比较多) -- 适配器类(实现接口,仅仅空实现) -- 实现类(用哪个重写哪个)</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 我没有说我们需要四种功能都实现啊。</span></div><div class="line">		UserDao ud2 = <span class="keyword">new</span> UserDaoImpl2();</div><div class="line">		ud2.add();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p> <img src="E:\picture\qq.png" alt="qq"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 你输入的如果是非数字字符，就取消你键盘录入的效果。</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FrameDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 创建窗体对象并设置属性</span></div><div class="line">		Frame f = <span class="keyword">new</span> Frame(<span class="string">"不能输入非数字字符"</span>);</div><div class="line">		f.setBounds(<span class="number">400</span>, <span class="number">200</span>, <span class="number">400</span>, <span class="number">300</span>);</div><div class="line">		f.setLayout(<span class="keyword">new</span> FlowLayout());</div><div class="line"></div><div class="line">		<span class="comment">// 创建Label标签对象</span></div><div class="line">		Label label = <span class="keyword">new</span> Label(<span class="string">"请输入你的QQ号码，不能是非数字，不信你试试"</span>);</div><div class="line">		TextField tf = <span class="keyword">new</span> TextField(<span class="number">40</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 添加到窗体上</span></div><div class="line">		f.add(label);</div><div class="line">		f.add(tf);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体关闭</span></div><div class="line">		f.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</div><div class="line">				System.exit(<span class="number">0</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// 给文本框添加事件</span></div><div class="line">		tf.addKeyListener(<span class="keyword">new</span> KeyAdapter() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span> </span>&#123;</div><div class="line">				<span class="comment">// 如果你取得的字符不是数字字符就取消事件</span></div><div class="line">				<span class="comment">// 思路：先获取字符，判断字符，取消事件</span></div><div class="line">				<span class="comment">// char getKeyChar()  </span></div><div class="line">				<span class="keyword">char</span> ch = e.getKeyChar();</div><div class="line"><span class="comment">//				System.out.println(ch);</span></div><div class="line">				<span class="keyword">if</span>(!(ch&gt;=<span class="string">'0'</span> &amp;&amp; ch&lt;=<span class="string">'9'</span>))&#123;</div><div class="line">					e.consume();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// 设置窗体可见</span></div><div class="line">		f.setVisible(<span class="keyword">true</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day25/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/13/Java学习笔记_day24/"><span>Java学习笔记_day24</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/13/Java学习笔记_day24/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-13T14:29:37.679Z">
          2017-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Lock接口"><a href="#Lock接口" class="headerlink" title="Lock接口"></a>Lock接口</h2><p>Lock 实现提供了比使用 synchronized 方法和语句可获得的更广泛的锁定操作</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</div><div class="line">  <span class="comment">// ...</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m</span><span class="params">()</span> </span>&#123; </div><div class="line">    lock.lock();  <span class="comment">// block until condition holds</span></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">      <span class="comment">// ... method body</span></div><div class="line">    &#125; <span class="keyword">finally</span> &#123;</div><div class="line">      lock.unlock()</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意：这是一个没有catch的try语句</p>
<h3 id="死锁问题"><a href="#死锁问题" class="headerlink" title="死锁问题"></a>死锁问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Deadlock</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Friend</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">final</span> String name;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Friend</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.name = name;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">bow</span><span class="params">(Friend bower)</span> </span>&#123;</div><div class="line">            System.out.format(<span class="string">"%s: %s"</span></div><div class="line">                + <span class="string">"  has bowed to me!%n"</span>, </div><div class="line">                <span class="keyword">this</span>.name, bower.getName());</div><div class="line">            bower.bowBack(<span class="keyword">this</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">bowBack</span><span class="params">(Friend bower)</span> </span>&#123;</div><div class="line">            System.out.format(<span class="string">"%s: %s"</span></div><div class="line">                + <span class="string">" has bowed back to me!%n"</span>,</div><div class="line">                <span class="keyword">this</span>.name, bower.getName());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="keyword">final</span> Friend alphonse =</div><div class="line">            <span class="keyword">new</span> Friend(<span class="string">"Alphonse"</span>);</div><div class="line">        <span class="keyword">final</span> Friend gaston =</div><div class="line">            <span class="keyword">new</span> Friend(<span class="string">"Gaston"</span>);</div><div class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; alphonse.bow(gaston); &#125;</div><div class="line">        &#125;).start();</div><div class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; gaston.bow(alphonse); &#125;</div><div class="line">        &#125;).start();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="线程之间的通信"><a href="#线程之间的通信" class="headerlink" title="线程之间的通信"></a>线程之间的通信</h3><p>由于线程运行的随机性，所以会造成线程通信时数据不匹配的问题，而且还会造成数据个数不同（CPU的一个时间片就会运行好多次）所以应该加锁，而且不同种类的线程要加的锁必须是同一把为了解决次数的问题我们使用java的登台唤醒机制</p>
<h3 id="等待唤醒机制"><a href="#等待唤醒机制" class="headerlink" title="等待唤醒机制"></a>等待唤醒机制</h3><blockquote>
<p> Object类中提供了三个方法：</p>
<pre><code>wait():等待

notify():唤醒单个线程

notifyAll():唤醒所有线程
</code></pre></blockquote>
<p>为什么这些方法不定义在Thread类中呢?</p>
<blockquote>
<p>这些方法的调用必须通过锁对象调用，而我们刚才使用的锁对象是任意锁对象。              所以，这些方法必须定义在Object类中。</p>
</blockquote>
<h4 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h4><p>模拟两个线程之间的通信，一个是增加学生，一个是读取学生</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">	String name;</div><div class="line">	<span class="keyword">int</span> age;</div><div class="line">	<span class="keyword">boolean</span> flag; <span class="comment">// 默认情况是没有数据，如果是true，说明有数据</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>设置学生数据:SetThread(生产者)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> Student s;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> x = <span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SetThread</span><span class="params">(Student s)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.s = s;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">			<span class="keyword">synchronized</span> (s) &#123;</div><div class="line">				<span class="comment">//判断有没有</span></div><div class="line">				<span class="keyword">if</span>(s.flag)&#123;</div><div class="line">					<span class="keyword">try</span> &#123;</div><div class="line">						s.wait(); <span class="comment">//t1等着，释放锁</span></div><div class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">						e.printStackTrace();</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">				</div><div class="line">				<span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">0</span>) &#123;</div><div class="line">					s.name = <span class="string">"林青霞"</span>;</div><div class="line">					s.age = <span class="number">27</span>;</div><div class="line">				&#125; <span class="keyword">else</span> &#123;</div><div class="line">					s.name = <span class="string">"刘意"</span>;</div><div class="line">					s.age = <span class="number">30</span>;</div><div class="line">				&#125;</div><div class="line">				x++; <span class="comment">//x=1</span></div><div class="line">				</div><div class="line">				<span class="comment">//修改标记</span></div><div class="line">				s.flag = <span class="keyword">true</span>;</div><div class="line">				<span class="comment">//唤醒线程</span></div><div class="line">				s.notify(); <span class="comment">//唤醒t2,唤醒并不表示你立马可以执行，必须还得抢CPU的执行权。</span></div><div class="line">			&#125;</div><div class="line">			<span class="comment">//t1有，或者t2有</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>获取学生数据：GetThread(消费者)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> Student s;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GetThread</span><span class="params">(Student s)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.s = s;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">			<span class="keyword">synchronized</span> (s) &#123;</div><div class="line">				<span class="keyword">if</span>(!s.flag)&#123;</div><div class="line">					<span class="keyword">try</span> &#123;</div><div class="line">						s.wait(); <span class="comment">//t2就等待了。立即释放锁。将来醒过来的时候，是从这里醒过来的时候</span></div><div class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">						e.printStackTrace();</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">				</div><div class="line">				System.out.println(s.name + <span class="string">"---"</span> + s.age);</div><div class="line">				<span class="comment">//林青霞---27</span></div><div class="line">				<span class="comment">//刘意---30</span></div><div class="line">				</div><div class="line">				<span class="comment">//修改标记</span></div><div class="line">				s.flag = <span class="keyword">false</span>;</div><div class="line">				<span class="comment">//唤醒线程</span></div><div class="line">				s.notify(); <span class="comment">//唤醒t1</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//创建资源</span></div><div class="line">		Student s = <span class="keyword">new</span> Student();</div><div class="line">		</div><div class="line">		<span class="comment">//设置和获取的类</span></div><div class="line">		SetThread st = <span class="keyword">new</span> SetThread(s);</div><div class="line">		GetThread gt = <span class="keyword">new</span> GetThread(s);</div><div class="line"></div><div class="line">		<span class="comment">//线程类</span></div><div class="line">		Thread t1 = <span class="keyword">new</span> Thread(st);</div><div class="line">		Thread t2 = <span class="keyword">new</span> Thread(gt);</div><div class="line"></div><div class="line">		<span class="comment">//启动线程</span></div><div class="line">		t1.start();</div><div class="line">		t2.start();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意：flag的用法，在修改完数据之后一定要修改flag的标签，并且在使线程等待之后一定要唤醒线程</p>
<p>唤醒并不表示你立马可以执行，必须还得抢CPU的执行权。</p>
<p>第哦啊用wait方法时，会释放锁，使其他线程可以拿到锁</p>
<h2 id="线程运行状态图"><a href="#线程运行状态图" class="headerlink" title="线程运行状态图"></a>线程运行状态图</h2><p> <img src="E:\picture\线程.png" alt="线程"></p>
<h2 id="线程组"><a href="#线程组" class="headerlink" title="线程组"></a>线程组</h2><p>默认情况下所有的线程都属于mian线程组</p>
<blockquote>
<p>线程类里面的方法：public final ThreadGroup getThreadGroup()</p>
</blockquote>
<h3 id="创建线程组"><a href="#创建线程组" class="headerlink" title="创建线程组"></a>创建线程组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">(ThreadGroup group,Runnable target,String name)</span></span></div><div class="line">分配新的 Thread 对象，以便将 target 作为其运行对象，将指定的 name 作为其名称，并作为 group 所引用的线程组的一员</div></pre></td></tr></table></figure>
<h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><p>程序新建一个线程浪费资源，所以有线程池，线程池可以提高程序效率，因为线程池会默认创建许多线程，而且这些线程可以回收（重复利用）</p>
<h3 id="Executors"><a href="#Executors" class="headerlink" title="Executors"></a>Executors</h3><p>JDK5新增了一个Executors工厂类来产生线程池</p>
<h4 id="创建线程池的过程"><a href="#创建线程池的过程" class="headerlink" title="创建线程池的过程"></a>创建线程池的过程</h4><ul>
<li>创建一个线程池对象，控制要创建几个线程对象。</li>
</ul>
<p>public static ExecutorService newFixedThreadPool(int nThreads)</p>
<ul>
<li>这种线程池的线程可以执行：</li>
</ul>
<p>可以执行Runnable对象或者Callable对象。</p>
<ul>
<li>调用如下方法即可</li>
</ul>
<p>Future&lt;?&gt; submit(Runnable task)</p>
<p><t> Future<t> submit(Callable<t> task)</t></t></t></p>
<ul>
<li>结束线程池</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExecutorsDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 创建一个线程池对象，控制要创建几个线程对象。</span></div><div class="line">		<span class="comment">// public static ExecutorService newFixedThreadPool(int nThreads)</span></div><div class="line">		ExecutorService pool = Executors.newFixedThreadPool(<span class="number">2</span>);</div><div class="line"></div><div class="line">		<span class="comment">// 可以执行Runnable对象或者Callable对象代表的线程</span></div><div class="line">		pool.submit(<span class="keyword">new</span> MyRunnable());</div><div class="line">		pool.submit(<span class="keyword">new</span> MyRunnable());</div><div class="line"></div><div class="line">		<span class="comment">//结束线程池</span></div><div class="line">		pool.shutdown();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h2><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 匿名内部类的格式：</div><div class="line"> * 		new 类名或者接口名() &#123;</div><div class="line"> * 			重写方法;</div><div class="line"> * 		&#125;;</div><div class="line"> * 		本质：是该类或者接口的子类对象。</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 继承Thread类来实现多线程</span></div><div class="line">		<span class="keyword">new</span> Thread() &#123;</div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">100</span>; x++) &#123;</div><div class="line">					System.out.println(Thread.currentThread().getName() + <span class="string">":"</span></div><div class="line">							+ x);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;.start();</div><div class="line"></div><div class="line">		<span class="comment">// 实现Runnable接口来实现多线程</span></div><div class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">100</span>; x++) &#123;</div><div class="line">					System.out.println(Thread.currentThread().getName() + <span class="string">":"</span></div><div class="line">							+ x);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;) &#123; &#125;.start();</div><div class="line"></div><div class="line">		<span class="comment">// 更有难度的</span></div><div class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">100</span>; x++) &#123;</div><div class="line">					System.out.println(<span class="string">"hello"</span> + <span class="string">":"</span> + x);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;) &#123;</div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">100</span>; x++) &#123;</div><div class="line">					System.out.println(<span class="string">"world"</span> + <span class="string">":"</span> + x);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;.start();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第三种方式相当于子类继承了threa类，同时也实行了runnab接口，注意这时候程序走的是thread中的run方法</p>
<h2 id="Timer"><a href="#Timer" class="headerlink" title="Timer"></a>Timer</h2><p>可以让我们在指定的时间做某件事情，还可以重复的做某件事情</p>
<ul>
<li><p>Timer:定时</p>
<pre><code>public Timer()
public void schedule(TimerTask task,long delay)
public void schedule(TimerTask task,long delay,long period)
public void cancel()
</code></pre></li>
<li><p>TimerTask:任务</p>
<p>​    public abstract void run()<br>​    public boolean cancel()</p>
</li>
</ul>
<h3 id="示例代码-1"><a href="#示例代码-1" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimerDemo2</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 创建定时器对象</span></div><div class="line">		Timer t = <span class="keyword">new</span> Timer();</div><div class="line">		<span class="comment">// 3秒后执行爆炸任务第一次，如果不成功，每隔2秒再继续炸</span></div><div class="line">		t.schedule(<span class="keyword">new</span> MyTask2(), <span class="number">3000</span>, <span class="number">2000</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 做一个任务</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTask2</span> <span class="keyword">extends</span> <span class="title">TimerTask</span> </span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"beng,爆炸了"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>public void schedule(TimerTask task,long delay,long period)第二个参数代表的是间隔多少毫秒执行，第三个参数代表间隔多少毫秒再次执行</p>
</blockquote>
<p>这样执行完程序，jvm不会退出，因为任务还没有停止，改进版就是加入cancel方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimerDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 创建定时器对象</span></div><div class="line">		Timer t = <span class="keyword">new</span> Timer();</div><div class="line">		<span class="comment">// 3秒后执行爆炸任务</span></div><div class="line">		<span class="comment">// t.schedule(new MyTask(), 3000);</span></div><div class="line">		<span class="comment">//结束任务</span></div><div class="line">		t.schedule(<span class="keyword">new</span> MyTask(t), <span class="number">3000</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 做一个任务</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTask</span> <span class="keyword">extends</span> <span class="title">TimerTask</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> Timer t;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyTask</span><span class="params">()</span></span>&#123;&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyTask</span><span class="params">(Timer t)</span></span>&#123;</div><div class="line">		<span class="keyword">this</span>.t = t;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"beng,爆炸了"</span>);</div><div class="line">		t.cancel();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="删除指定目录"><a href="#删除指定目录" class="headerlink" title="删除指定目录"></a>删除指定目录</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * 需求：在指定的时间删除我们的指定目录(你可以指定c盘，但是我不建议，我使用项目路径下的demo)</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeleteFolder</span> <span class="keyword">extends</span> <span class="title">TimerTask</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">		File srcFolder = <span class="keyword">new</span> File(<span class="string">"demo"</span>);</div><div class="line">		deleteFolder(srcFolder);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 递归删除目录</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteFolder</span><span class="params">(File srcFolder)</span> </span>&#123;</div><div class="line">		File[] fileArray = srcFolder.listFiles();</div><div class="line">		<span class="keyword">if</span> (fileArray != <span class="keyword">null</span>) &#123;</div><div class="line">			<span class="keyword">for</span> (File file : fileArray) &#123;</div><div class="line">				<span class="keyword">if</span> (file.isDirectory()) &#123;</div><div class="line">					deleteFolder(file);</div><div class="line">				&#125; <span class="keyword">else</span> &#123;</div><div class="line">					System.out.println(file.getName() + <span class="string">":"</span> + file.delete());</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			fileArray.delete();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimerTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</div><div class="line">		Timer t = <span class="keyword">new</span> Timer();</div><div class="line"></div><div class="line">		String s = <span class="string">"2014-11-27 15:45:00"</span>;</div><div class="line">		SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</div><div class="line">		Date d = sdf.parse(s);</div><div class="line"></div><div class="line">		t.schedule(<span class="keyword">new</span> DeleteFolder(), d);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样执行完程序，jvm不会退出，因为任务还没有停止</p>
<h2 id="面向对象设计思想"><a href="#面向对象设计思想" class="headerlink" title="面向对象设计思想"></a>面向对象设计思想</h2><p>单一职责原则；开闭原则；里氏替换原则；依赖注入原则；接口分离原则；迪米特原则</p>
<h3 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h3><p>就是开发人员经常说的”高内聚，低耦合”<br>也就是说，每个类应该只有一个职责，对外只能提供一种功能，而引起类变化的原因应该只有一个。在设计模式中，所有的设计模式都遵循这一原则。</p>
<h3 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h3><p>核心思想是：一个对象对扩展开放，对修改关闭。<br>其实开闭原则的意思就是：对类的改动是通过增加代码进行的，而不是修改现有代码。</p>
<p>需要借助于抽象和多态，即把可能变化的内容抽象出来，从而使抽象的部分是相对稳定的，而具体的实现则是可以改变和扩展的</p>
<h3 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h3><p>核心思想：在任何父类出现的地方都可以用它的子类来替代。<br>其实就是说：同一个继承体系中的对象应该有共同的行为特征。</p>
<h3 id="依赖注入原则"><a href="#依赖注入原则" class="headerlink" title="依赖注入原则"></a>依赖注入原则</h3><p>核心思想：要依赖于抽象，不要依赖于具体实现</p>
<h3 id="接口分离原则"><a href="#接口分离原则" class="headerlink" title="接口分离原则"></a>接口分离原则</h3><p>核心思想：不应该强迫程序依赖它们不需要使用的方法。<br>其实就是说：一个接口不需要提供太多的行为，一个接口应该只提供一种对外的功能，不应该把所有的操作都封装到一个接口中。</p>
<h3 id="迪米特原则"><a href="#迪米特原则" class="headerlink" title="迪米特原则"></a>迪米特原则</h3><p>核心思想：一个对象应当对其他对象尽可能少的了解<br>其实就是说：降低各个对象之间的耦合，提高系统的可维护性。在模块之间应该只通过接口编程，而不理会模块的内部工作原理，它可以使各个模块耦合度降到最低，促进软件的复用</p>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><p>设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性</p>
<p>创建型模式：简单工厂模式，工厂方法模式，抽象工厂模式，建造者模式，原型模式，单例模式。(6个)<br>结构型模式：外观模式、适配器模式、代理模式、装饰模式、桥接模式、组合模式、享元模式。(7个)<br>行为型模式：模版方法模式、观察者模式、状态模式、职责链模式、命令模式、访问者模式、策略模式、备忘录模式、迭代器模式、解释器模式。(10个)</p>
<h3 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h3><p>它定义一个具体的工厂类负责对象的创建</p>
<h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><ul>
<li>优点：客户端不需要在负责对象的创建，从而明确了各个类的职责</li>
<li>缺点：这个静态工厂类负责所有对象的创建，如果有新的对象增加，或者某些对象的创建方式不同，就需要不断的修改工厂类，不利于后期的维护</li>
</ul>
<h3 id="工厂方法模式Factory-Method-Pattern"><a href="#工厂方法模式Factory-Method-Pattern" class="headerlink" title="工厂方法模式Factory Method Pattern"></a>工厂方法模式Factory Method Pattern</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Factory</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Animal <span class="title">createAnimal</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CatFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Animal <span class="title">createAnimal</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Cat();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DogFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Animal <span class="title">createAnimal</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Dog();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"猫吃鱼"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"狗吃肉"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnimalDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">// 需求：我要买只狗</span></div><div class="line">		Factory f = <span class="keyword">new</span> DogFactory();</div><div class="line">		Animal a = f.createAnimal();</div><div class="line">		a.eat();</div><div class="line">		System.out.println(<span class="string">"-------"</span>);</div><div class="line">		</div><div class="line">		<span class="comment">//需求：我要买只猫</span></div><div class="line">		f = <span class="keyword">new</span> CatFactory();</div><div class="line">		a = f.createAnimal();</div><div class="line">		a.eat();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><p>单例模式就是要确保类在内存中只有一个对象，该实例必须自动创建，并且对外提供</p>
<ul>
<li>饿汉式：类一加载就创建对象，不会出现问题</li>
<li>懒汉式：用的时候，才去创建对象，会出现问题（懒加载不会，线程安全会出现问题）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Teacher</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Teacher t = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> Teacher <span class="title">getTeacher</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="comment">// t1,t2,t3</span></div><div class="line">		<span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</div><div class="line">			<span class="comment">//t1,t2,t3</span></div><div class="line">			t = <span class="keyword">new</span> Teacher();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> t;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意懒汉式要加入synchronized</p>
<h4 id="优缺点-1"><a href="#优缺点-1" class="headerlink" title="优缺点"></a>优缺点</h4><ul>
<li>优点：在系统内存中只存在一个对象，因此可以节约系统资源，对于一些需要频繁创建和销毁的对象单例模式无疑可以提高系统的性能</li>
<li>缺点：没有抽象层，因此扩展很难。职责过重，在一定程序上违背了单一职责</li>
</ul>
<h4 id="保证类在内存中只有一个对象"><a href="#保证类在内存中只有一个对象" class="headerlink" title="保证类在内存中只有一个对象"></a>保证类在内存中只有一个对象</h4><ul>
<li>把构造方法私有</li>
<li>在成员位置自己创建一个对象</li>
<li>通过一个公共的方法提供访问</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="comment">//饿汉式：类一加载就创建对象</span></div><div class="line">    <span class="comment">// 构造私有</span></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 自己造一个</span></div><div class="line">	<span class="comment">// 静态方法只能访问静态成员变量，加静态</span></div><div class="line">	<span class="comment">// 为了不让外界直接访问修改这个值，加private</span></div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Student s = <span class="keyword">new</span> Student();</div><div class="line"></div><div class="line">	<span class="comment">// 提供公共的访问方式</span></div><div class="line">	<span class="comment">// 为了保证外界能够直接使用该方法，加静态</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Student <span class="title">getStudent</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> s;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a>Runtime</h2><p>exec(String command)可以直接运行dos命令，应用如打开某个程序</p>
<h3 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//饿汉式 </span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Runtime</span> </span>&#123;</div><div class="line">  		<span class="function"><span class="keyword">private</span> <span class="title">Runtime</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line">  		<span class="keyword">private</span> <span class="keyword">static</span> Runtime currentRuntime = <span class="keyword">new</span> Runtime();</div><div class="line">  		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Runtime <span class="title">getRuntime</span><span class="params">()</span> </span>&#123;</div><div class="line">        	<span class="keyword">return</span> currentRuntime;</div><div class="line">    	&#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Java/">Java</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Java基础知识/">Java基础知识</a>
    </span>
    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2017/03/13/Java学习笔记_day24/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">下一页</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 天意
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>